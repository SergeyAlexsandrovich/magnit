{"version":3,"sources":["components/section-layout/SectionLayout.tsx","components/section-layout/index.ts","components/section-title/SectionTitle.tsx","components/section-title/index.ts","components/centered-section-item/CenteredGrid.tsx","components/centered-section-item/index.ts","components/list/EmptyList.tsx","components/list/index.ts","../../task-editor/dist/index.js","containers/tasks/TasksList.tsx","containers/tasks/CreateTask.tsx","components/modal/SimpleModal.tsx","components/view-task/SendMessageForm.tsx","exceptions/NoStagesException.ts","containers/tasks/ViewTask.tsx","containers/tasks/TaskHistory.tsx","components/task-report/SendReportForm.tsx","components/task-report/ReportHeader.tsx","components/task-report/ReportStage.tsx","components/vertical-stepper/VerticalStepper.tsx","containers/tasks/TaskReport.tsx","containers/tasks/index.ts"],"names":["SectionLayout","props","children","rest","Grid","container","direction","css","width","minHeight","displayName","SectionTitle","title","item","height","boxShadow","Paper","square","display","alignItems","theme","paddingLeft","spacing","paddingRight","xs","Typography","variant","component","CenteredGrid","flexDirection","justifyContent","EmptyList","button","justify","alignContent","marginBottom","align","color","colors","black","fontWeight","fontSize","xLarge","secondary","larger","e","t","n","r","i","a","s","o","l","u","window","module","exports","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","Array","random","rng","this","__assign","assign","arguments","length","apply","__read","iterator","next","done","push","error","return","__spread","concat","__importDefault","__importStar","f","C","g","x","h","TaskEditor","users","templates","task","j","onTaskChange","v","onAddAsset","y","onDeleteAsset","M","onAddComment","L","onDeleteComment","k","regions","H","cities","V","formats","b","addresses","_","useState","Z","S","z","F","T","w","P","R","O","Map","E","I","A","D","G","N","W","B","q","head","U","status","ETaskStatus","IN_PROGRESS","COMPLETED","X","useRef","getEditorService","EEditorType","TASK","K","useCallback","eq","Y","useEffect","current","updateToolbarTopPosition","id","editable","sections","type","ETemplateType","LIGHT","description","__uuid","Q","cloneDeep","map","find","set","toString","isEqual","J","$","onPuzzleFocus","ee","filter","Boolean","te","Number","target","some","findIndex","ne","re","ie","virtual","ae","stages","createdAt","Date","toISOString","updatedAt","finished","se","splice","oe","le","last","ue","idAssignment","idUser","text","ce","de","fe","pe","me","useMemo","label","icon","jsx","QuestionIcon","action","CommentsIcon","TrashIcon","gray","Fragment","EditorToolbar","top","items","CreateTask","service","documents","focusedPuzzleId","templateSnapshots","onTemplatesChange","onTaskTitleChange","onTaskTitleBlur","ViewTask","pendingComments","onEditableChange","onAddStage","onDeleteStage","onPendingCommentDelete","onPendingCommentAccept","onCommentDelete","crypto","getRandomValues","msCrypto","Uint8Array","Math","substr","join","marketplace","region","city","format","address","idAssignee","SelectableBlockWrapper","padding","zIndex","onFocus","onMouseDown","focused","large","TaskFieldContainer","InputField","placeholder","onChange","onBlur","fullWidth","DateField","SelectField","MenuItem","key","username","document","ButtonLikeText","Link","to","marginLeft","marginTop","TemplateRenderer","template","answers","SectionRenderer","index","section","position","transform","right","onClick","puzzles","reduce","puzzleType","EPuzzleType","GROUP","PuzzleRenderer","idPuzzle","puzzle","REFERENCE_ANSWER","answerType","UPLOAD_FILES","comment","Global","styles","mNormal","background","white","borderRadius","radius","maxWidth","wordBreak","lightGray","left","border","primary","CheckIcon","InfoIcon","medium","Tooltip","classes","tooltip","placement","CommentIcon","cursor","PuzzleAnswerRenderer","reference","upload","normal","ArrowDropDown","verticalAlign","getPuzzleFactory","first","CHECKBOX_ANSWER","DROPDOWN_ANSWER","RADIO_ANSWER","answer","CheckboxAnswerFactory","RadioAnswerFactory","DropdownAnswerFactory","TEXT_ANSWER","NUMERIC_ANSWER","DATE_ANSWER","TextAnswerFactory","ReferenceAnswerFactory","UploadFilesFactory","CheckboxAnswer","Checkbox","disabled","simple","RadioAnswer","Radio","DropdownAnswer","marginRight","TextAnswer","ReferenceAnswer","REFERENCE_TEXT","REFERENCE_ASSET","div","content","TextField","multiline","InputProps","readOnly","AssetPreview","filename","src","ext","split","pop","UploadFiles","violet","ON_CHECK","darkYellow","green","DRAFT","EXPIRED","darkRed","files","completed","deadline","notifyBefore","every","Ce","ge","xe","he","idOwner","je","Menu","keepMounted","open","anchorEl","onClose","Dialog","paper","overflow","minWidth","ChangeAssigneeIllustration","paddingTop","Button","scheme","DraftView","onChangeStageTitle","onChangeStageDeadline","margin","InfoField","onEditableClick","TaskStages","AddIcon","currentTarget","originalName","deletable","onDelete","ref","accept","hidden","Fab","click","userSelect","sNormal","isArray","comments","TaskDocument","onTemplateChange","__makeTemplateObject","raw","SvgIcon","viewBox","stroke","strokeWidth","fill","fillRule","clipRule","mask","cx","cy","rx","isNaN","parse","getFriendlyDate","smaller","textTransform","flatMap","FormControl","FormControlLabel","control","checked","Divider","Comment","PendingComment","onCommentAccept","IconButton","Close","input","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__index","Stepper","orientation","TaskStage","onChangeTitle","onChangeDeadline","Step","active","StepLabel","svg","StepContent","tabs","replace","columns","sortable","TasksList","tab","context","useContext","AppContext","dialogOpen","setDialogOpen","tasks","setTasks","selectedTasks","setSelectedTasks","searchQuery","setSearchQuery","total","setTotal","selectedRegion","setSelectedRegion","selectedCity","setSelectedCity","marketplaceRegions","setMarketplaceRegions","regionCities","setRegionCities","page","setPage","order","setOrder","orderBy","setOrderBy","fetchRegionsAndUpdateState","getAllRegions","courier","then","response","catch","console","fetchCitiesAndUpdateState","getCitiesForRegion","clearSelectedTasks","clear","transformTaskDateToFriendly","selected","fetchTasksAndUpdateState","sort","sortBy","upperCaseSort","toUpperCase","getTasksExtended","getTaskStatusByTab","all","prevTab","prevTaskRegion","redirect","setRedirect","onRowSelectToggleCallback","row","isObject","has","delete","taskIndex","setTaskToOnCheck","updateTask","onBulkRejectClickCallback","tasksToUpdate","values","Promise","finally","onDialogClose","setTaskToInProgress","onBulkCompleteClickCallback","includes","onSelectToggleCallback","nextTasks","forEach","updateTaskListDebounced","debounce","onSearchQueryChangeCallback","event","onRequestSortCallback","onRegionChangeCallback","onCityChangeCallback","empty","onSuccess","noThrow","transition","placeholderDisabled","selectable","data","onRowClick","onRowSelectToggle","onSelectToggle","onRequestSort","onChangePage","nextPage","setTemplates","owner","user","setTask","setError","message","snackbar","setSnackbar","cityFormats","setCityFormats","formatAddresses","setFormatAddresses","getTemplates","prevTaskCity","getFormatsForCity","prevTaskFormat","getAddressesForFormat","createTask","addTemplateAssignment","taskId","toNumber","maxTemplateWidth","reason","setTimeout","SimpleModal","Modal","backgroundColor","xxLarge","small","SendMessageForm","onSubmit","setTitle","setMessage","onSubmitCallback","preventDefault","autoFocus","required","NoStagesException","Error","menuAnchorElement","setMenuAnchorElement","messageModalOpen","setMessageModalOpen","trigger","isValidTask","initialStages","isTaskEditable","setTaskState","fetchFormatsAndUpdateState","fetchAddressesAndUpdateState","setTemplateState","nextTask","buffer","array","merge","fetchTaskAndUpdateState","getTaskExtended","prevTaskId","onMenuClose","addTaskStages","findIfStageExists","stage","initialStage","filterEmptyStages","step","diff","splitted","date","setDate","setMonth","nth","setFullYear","addStages","onTaskSaveCallback","prevStatus","callUpdateTemplateAssignment","updateTemplateAssignment","transformedTemplateAssignments","assignment","getTaskPayload","setSnackbarState","setSnackbarError","onAddTaskDocument","addTaskDocument","onDeleteTaskDocument","documentId","deleteTaskDocument","addComment","commentId","deleteComment","sendPushToken","body","MoreVert","omit","TaskHistory","setStages","focusedBlockId","setFocusedBlockId","getStagesWithFullHistory","onSelectableBlockFocus","light","textAlign","history","visibility","SendReportForm","email","setEmail","reportStatusTranslations","EReportStatuses","ReportHeader","headers","report","field","fieldKey","md","ReportStage","transformedTemplateData","templateIndex","version","hover","pagination","VerticalStepper","TaskReport","reportModalOpen","setReportModalOpen","setReport","getTaskReport","onSubmitSendReportCallback","sendReportToEmail","onDownloadFileReportCallback","downloadReportFile","friendlyIndex"],"mappings":"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","file":"static/js/1.bd1d74d8.chunk.js","sourcesContent":["/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\nexport const SectionLayout: React.FC<React.ComponentProps<typeof Grid>> = props => {\n    const { children, ...rest } = props;\n\n    return (\n        <Grid\n            container\n            direction=\"column\"\n            css={{\n                width: \"100%\",\n                minHeight: \"100vh\",\n            }}\n            {...rest}\n        >\n            {children}\n        </Grid>\n    );\n};\n\nSectionLayout.displayName = \"SectionLayout\";\n","export * from \"./SectionLayout\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Grid, Paper, Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\n\ninterface ISectionTitleProps {\n    title: string;\n}\n\nexport const SectionTitle: React.FC<ISectionTitleProps> = ({ title, children }) => {\n    return (\n        <Grid\n            item\n            css={{\n                height: \"var(--section-title-height)\",\n                boxShadow: \"0 6px 20px rgba(220, 227, 235, 0.3)\",\n            }}\n        >\n            <Paper\n                square={true}\n                css={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    boxShadow: \"none !important\",\n                }}\n            >\n                <Grid\n                    container\n                    css={theme => ({\n                        paddingLeft: theme.spacing(4),\n                        paddingRight: theme.spacing(4),\n                    })}\n                >\n                    <Grid item xs>\n                        <Typography variant=\"h4\" component=\"div\">\n                            <span>{title}</span>\n                        </Typography>\n                    </Grid>\n                    {children}\n                </Grid>\n            </Paper>\n        </Grid>\n    );\n};\n\nSectionTitle.displayName = \"SectionTitle\";\n","export * from \"./SectionTitle\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\nexport const CenteredGrid: React.FC<React.ComponentProps<typeof Grid>> = props => {\n    const { children, ...rest } = props;\n\n    return (\n        <Grid\n            item\n            xs\n            css={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                justifyContent: \"center\",\n                alignItems: \"center\",\n            }}\n            {...rest}\n        >\n            {children}\n        </Grid>\n    );\n};\n\nCenteredGrid.displayName = \"CenteredSectionItem\";\n","export * from \"./CenteredGrid\";\n","/** @jsx jsx */\n\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { jsx } from \"@emotion/core\";\nimport { CenteredGrid } from \"components/centered-section-item\";\nimport * as React from \"react\";\n\ninterface IEmptyListProps {\n    title: string;\n    button?: React.ReactNode;\n}\n\nexport const EmptyList: React.FC<IEmptyListProps> = ({ title, button, children }) => {\n    return (\n        <CenteredGrid>\n            <Grid container justify=\"center\" alignContent=\"center\" direction=\"column\">\n                <Grid item css={theme => ({ marginBottom: theme.spacing(3) })}>\n                    <Typography\n                        component=\"div\"\n                        align=\"center\"\n                        css={theme => ({\n                            color: theme.colors.black,\n                            fontWeight: 500,\n                            fontSize: theme.fontSize.xLarge,\n                        })}\n                    >\n                        <span>{title}</span>\n                    </Typography>\n                </Grid>\n                <Grid item css={theme => ({ marginBottom: theme.spacing(3) })}>\n                    <Typography\n                        component=\"div\"\n                        align=\"center\"\n                        css={theme => ({\n                            color: theme.colors.secondary,\n                            fontSize: theme.colors.larger,\n                        })}\n                    >\n                        {children}\n                    </Typography>\n                </Grid>\n                <Grid item>\n                    <Grid container justify=\"center\" alignContent=\"center\">\n                        <Grid item>{button}</Grid>\n                    </Grid>\n                </Grid>\n            </Grid>\n        </CenteredGrid>\n    );\n};\n\nEmptyList.displayName = \"EmptyList\";\n","export * from \"./EmptyList\";\n","!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"@emotion/core\"), require(\"@material-ui/core\"), require(\"react\"), require(\"@magnit/components\"), require(\"lodash\"), require(\"@magnit/entities\"), require(\"@material-ui/icons\"), require(\"@magnit/services\"), require(\"@magnit/icons\"), require(\"@reach/router\")) : \"function\" == typeof define && define.amd ? define([\"@emotion/core\", \"@material-ui/core\", \"react\", \"@magnit/components\", \"lodash\", \"@magnit/entities\", \"@material-ui/icons\", \"@magnit/services\", \"@magnit/icons\", \"@reach/router\"], t) : \"object\" == typeof exports ? exports.TaskEditor = t(require(\"@emotion/core\"), require(\"@material-ui/core\"), require(\"react\"), require(\"@magnit/components\"), require(\"lodash\"), require(\"@magnit/entities\"), require(\"@material-ui/icons\"), require(\"@magnit/services\"), require(\"@magnit/icons\"), require(\"@reach/router\")) : e.TaskEditor = t(e[\"@emotion/core\"], e[\"@material-ui/core\"], e.react, e[\"@magnit/components\"], e.lodash, e[\"@magnit/entities\"], e[\"@material-ui/icons\"], e[\"@magnit/services\"], e[\"@magnit/icons\"], e[\"@reach/router\"]);\n}(window, function (e, t, n, r, i, a, s, o, l, u) {\n  return function (e) {\n    var t = {};\n\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var i = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var i in e) {\n        n.d(r, i, function (t) {\n          return e[t];\n        }.bind(null, i));\n      }\n      return r;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 12);\n  }([function (t, n) {\n    t.exports = e;\n  }, function (e, n) {\n    e.exports = t;\n  }, function (e, t) {\n    e.exports = n;\n  }, function (e, t) {\n    e.exports = r;\n  }, function (e, t) {\n    e.exports = i;\n  }, function (e, t) {\n    e.exports = a;\n  }, function (e, t) {\n    e.exports = s;\n  }, function (e, t) {\n    e.exports = o;\n  }, function (e, t) {\n    e.exports = l;\n  }, function (e, t, n) {\n    var r = n(14),\n        i = n(15);\n\n    e.exports = function (e, t, n) {\n      var a = t && n || 0;\n      \"string\" == typeof e && (t = \"binary\" === e ? new Array(16) : null, e = null);\n      var s = (e = e || {}).random || (e.rng || r)();\n      if (s[6] = 15 & s[6] | 64, s[8] = 63 & s[8] | 128, t) for (var o = 0; o < 16; ++o) {\n        t[a + o] = s[o];\n      }\n      return t || i(s);\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(19));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(44));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(13));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        i = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var r,\n          i,\n          a = n.call(e),\n          s = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(r = a.next()).done;) {\n          s.push(r.value);\n        }\n      } catch (e) {\n        i = {\n          error: e\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    },\n        a = this && this.__spread || function () {\n      for (var e = [], t = 0; t < arguments.length; t++) {\n        e = e.concat(i(arguments[t]));\n      }\n\n      return e;\n    },\n        s = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        o = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var l = n(0),\n        u = n(3),\n        c = n(5),\n        d = n(8),\n        f = n(7),\n        p = s(n(4)),\n        m = o(n(2)),\n        C = n(2),\n        g = s(n(9)),\n        x = n(16),\n        h = n(45);\n    t.TaskEditor = function (e) {\n      var t = e.users,\n          n = e.templates,\n          s = e.task,\n          o = e.variant,\n          j = e.onTaskChange,\n          v = e.onAddAsset,\n          y = e.onDeleteAsset,\n          M = e.onAddComment,\n          L = e.onDeleteComment,\n          k = e.regions,\n          H = e.cities,\n          V = e.formats,\n          b = e.addresses,\n          _ = i(C.useState(\"\"), 2),\n          Z = _[0],\n          S = _[1],\n          z = i(C.useState([]), 2),\n          F = z[0],\n          T = z[1],\n          w = i(C.useState(0), 2),\n          P = w[0],\n          R = w[1],\n          O = i(C.useState(new Map()), 2),\n          E = O[0],\n          I = O[1],\n          A = i(C.useState([]), 2),\n          D = A[0],\n          G = A[1],\n          N = i(C.useState([]), 2),\n          W = N[0],\n          B = N[1],\n          q = p.default.head(D),\n          U = s.status !== c.ETaskStatus.IN_PROGRESS && s.status !== c.ETaskStatus.COMPLETED,\n          X = C.useRef(f.getEditorService(f.EEditorType.TASK, [[D, G], [P, R]])),\n          K = C.useCallback(function (e) {\n        return p.default.eq(o, \"view\");\n      }, [o]),\n          Y = C.useCallback(function (e) {\n        return p.default.eq(o, \"create\");\n      }, [o]);\n\n      C.useEffect(function () {\n        X.current.updateToolbarTopPosition();\n      }, [D]), C.useEffect(function () {\n        !Y(s) || s.templates.length || F.length || T([{\n          id: -1,\n          title: \"\",\n          editable: !1,\n          sections: [],\n          type: c.ETemplateType.LIGHT,\n          description: \"\",\n          __uuid: g.default()\n        }]);\n      }, [o, s, Y, F.length]);\n      var Q = C.useRef(p.default.cloneDeep(F));\n      C.useEffect(function () {\n        if (K(s)) {\n          var e = (s.templates || []).map(function (e) {\n            var t = F.find(function (t) {\n              return e.id === t.id;\n            });\n            return E.set(e.id.toString(), e), r(r({\n              editable: !1\n            }, e), {\n              __uuid: t && t.__uuid || g.default()\n            });\n          });\n          p.default.isEqual(Q.current, e) || (Q.current = p.default.cloneDeep(e), I(new Map(E)), T(a(e)));\n        }\n      }, [n, s.templates, K, Y, s, F, E]);\n      var J = C.useRef(0),\n          $ = C.useRef(!1);\n      C.useEffect(function () {\n        J.current > 50 || ($.current || (J.current++, X.current.onPuzzleFocus(s.id.toString(), !0)), (0 !== s.id || Y(s)) && ($.current = !0));\n      }, [s, D, Y]);\n      var ee = C.useCallback(function (e) {\n        if (j) {\n          var t = e.filter(function (e) {\n            return -1 !== e.id;\n          }).map(function (e) {\n            if (K(s)) {\n              var t = n.find(function (t) {\n                return t.id === e.id;\n              });\n              return r(r({}, t), {\n                editable: !0\n              });\n            }\n\n            return e.id;\n          }).filter(Boolean);\n          j(r(r({}, s), {\n            templates: t\n          }));\n        }\n      }, [K, j, s, n]),\n          te = C.useCallback(function (e, t) {\n        var r = Number(t.target.value);\n\n        if (F.some(function (t) {\n          return t.__uuid === e;\n        })) {\n          var i = n.findIndex(function (e) {\n            return e.id === r;\n          }),\n              s = F.findIndex(function (t) {\n            return t.__uuid === e;\n          }),\n              o = n[i].id;\n          F[s].id = o, F[s].title = n[i].title, T(a(F)), E.set(o.toString(), n[i]), I(new Map(E)), ee(F);\n        }\n      }, [F, E, n, ee]),\n          ne = C.useCallback(function (e) {\n        K(s) && j && j(r(r({}, s), {\n          templates: s.templates.map(function (t) {\n            var n = e.find(function (e) {\n              return e.id === t.id;\n            });\n            return n ? r(r({}, t), {\n              editable: n.editable\n            }) : t;\n          })\n        }));\n      }, [K, j, s]),\n          re = C.useCallback(function (e, t) {\n        if (F.some(function (t) {\n          return t.id === e;\n        })) {\n          var n = F.findIndex(function (t) {\n            return t.id === e;\n          });\n          F[n].editable = t, T(a(F)), ne(F);\n        }\n      }, [F, ne]),\n          ie = C.useCallback(function () {\n        if (!F.some(function (e) {\n          return -1 === e.id;\n        })) {\n          var e = {\n            id: -1,\n            title: \"\",\n            description: \"\",\n            sections: [],\n            type: c.ETemplateType.LIGHT,\n            editable: !0,\n            __uuid: g.default()\n          };\n          K(s) && (e.virtual = !0), T(a(F, [e])), X.current.onPuzzleFocus(e.__uuid);\n        }\n      }, [F, K, s]),\n          ae = C.useCallback(function (e) {\n        K(s) && (s.stages && s.stages.push(r(r({}, e), {\n          createdAt: new Date().toISOString(),\n          updatedAt: new Date().toISOString(),\n          finished: !1\n        })), j && j(r({}, s)));\n      }, [K, j, s]),\n          se = C.useCallback(function (e) {\n        if (K(s)) {\n          if (s.stages) {\n            var t = s.stages.findIndex(function (t) {\n              return t.id === e;\n            });\n            -1 !== t && s.stages.splice(t, 1);\n          }\n\n          j && j(r({}, s));\n        }\n      }, [K, j, s]);\n      var oe = C.useCallback(function () {\n        j && j(r(r({}, s), {\n          title: Z\n        }));\n      }, [j, s, Z]),\n          le = C.useCallback(function () {\n        if (!Y(s) || 1 !== F.length) {\n          var e = F.find(function (e) {\n            return e.__uuid === q;\n          });\n\n          if (e) {\n            var t = e.id;\n\n            if (F.some(function (e) {\n              return e.id === t;\n            })) {\n              var n = F.findIndex(function (e) {\n                return e.id === t;\n              });\n              F.splice(n, 1), T(a(F)), ee(F);\n              var r = p.default.last(F) ? p.default.last(F).__uuid : s.id.toString();\n              X.current.onPuzzleFocus(r);\n            }\n          }\n        }\n      }, [F, q, Y, s, ee]),\n          ue = C.useCallback(function () {\n        if (!W.length) {\n          var e = F.find(function (e) {\n            return e.__uuid === q;\n          });\n\n          if (e) {\n            var t = {\n              id: (p.default.last(W) || {\n                id: -1\n              }).id + 1,\n              idAssignment: e.id,\n              idUser: \"\",\n              text: \"\",\n              createdAt: new Date().toISOString(),\n              updatedAt: new Date().toISOString()\n            };\n            B(a(W, [t]));\n          }\n        }\n      }, [F, q, W]),\n          ce = C.useCallback(function (e) {\n        var t = W.findIndex(function (t) {\n          return t.id === e;\n        });\n        -1 !== t && (W.splice(t, 1), B(a(W)));\n      }, [W]),\n          de = C.useCallback(function (e) {\n        M && (M(r({}, e)), ce(e.id));\n      }, [M, ce]),\n          fe = C.useCallback(function (e) {\n        L && L(e);\n      }, [L]),\n          pe = F.some(function (e) {\n        return e.__uuid === q;\n      }),\n          me = C.useMemo(function () {\n        return a([{\n          label: \"Добавить шаблон\",\n          icon: l.jsx(d.QuestionIcon, null),\n          action: ie\n        }], pe ? [{\n          label: \"Оставить комментарий\",\n          icon: l.jsx(d.CommentsIcon, null),\n          action: ue\n        }] : [], U && !pe ? [] : [{\n          label: \"Удалить шаблон\",\n          icon: l.jsx(d.TrashIcon, {\n            css: function css(e) {\n              return {\n                color: e.colors.gray\n              };\n            }\n          }),\n          action: le\n        }]);\n      }, [U, pe, ue, ie, le]);\n      return l.jsx(m.Fragment, null, U && l.jsx(u.EditorToolbar, {\n        top: P,\n        items: a(me)\n      }), Y(s) && l.jsx(x.CreateTask, {\n        users: t,\n        cities: H,\n        regions: k,\n        formats: V,\n        addresses: b,\n        task: r(r({}, s), {\n          title: Z\n        }),\n        service: X.current,\n        templates: n,\n        documents: F,\n        focusedPuzzleId: q,\n        templateSnapshots: E,\n        onTemplatesChange: te,\n        onTaskTitleChange: function onTaskTitleChange(e) {\n          S(e);\n        },\n        onTaskTitleBlur: oe,\n        onTaskChange: j\n      }), K(s) && l.jsx(h.ViewTask, {\n        users: t,\n        cities: H,\n        regions: k,\n        formats: V,\n        addresses: b,\n        task: s,\n        pendingComments: W,\n        editable: U,\n        service: X.current,\n        templates: n,\n        documents: F,\n        focusedPuzzleId: q,\n        templateSnapshots: E,\n        onEditableChange: re,\n        onAddStage: ae,\n        onDeleteStage: se,\n        onTemplatesChange: te,\n        onTaskChange: j,\n        onAddAsset: v,\n        onDeleteAsset: y,\n        onPendingCommentDelete: ce,\n        onPendingCommentAccept: de,\n        onCommentDelete: fe\n      }));\n    }, t.TaskEditor.displayName = \"TaskEditor\";\n  }, function (e, t) {\n    var n = \"undefined\" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || \"undefined\" != typeof msCrypto && \"function\" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (n) {\n      var r = new Uint8Array(16);\n\n      e.exports = function () {\n        return n(r), r;\n      };\n    } else {\n      var i = new Array(16);\n\n      e.exports = function () {\n        for (var e, t = 0; t < 16; t++) {\n          0 == (3 & t) && (e = 4294967296 * Math.random()), i[t] = e >>> ((3 & t) << 3) & 255;\n        }\n\n        return i;\n      };\n    }\n  }, function (e, t) {\n    for (var n = [], r = 0; r < 256; ++r) {\n      n[r] = (r + 256).toString(16).substr(1);\n    }\n\n    e.exports = function (e, t) {\n      var r = t || 0,\n          i = n;\n      return [i[e[r++]], i[e[r++]], i[e[r++]], i[e[r++]], \"-\", i[e[r++]], i[e[r++]], \"-\", i[e[r++]], i[e[r++]], \"-\", i[e[r++]], i[e[r++]], \"-\", i[e[r++]], i[e[r++]], i[e[r++]], i[e[r++]], i[e[r++]], i[e[r++]]].join(\"\");\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(17));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        i = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        a = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = n(0),\n        o = n(3),\n        l = n(1),\n        u = n(18),\n        c = n(10),\n        d = n(11),\n        f = i(n(4)),\n        p = a(n(2)),\n        m = n(2),\n        C = i(n(9));\n    t.CreateTask = function (e) {\n      var t = e.users,\n          n = e.task,\n          i = e.service,\n          a = e.documents,\n          u = e.focusedPuzzleId,\n          c = e.templates,\n          x = e.templateSnapshots,\n          h = e.onTaskTitleChange,\n          j = e.onTemplatesChange,\n          v = e.onTaskTitleBlur,\n          y = e.regions,\n          M = e.cities,\n          L = e.addresses,\n          k = e.formats,\n          H = e.onTaskChange,\n          V = m.useCallback(function () {\n        return f.default.get(n, \"id\", C.default()).toString();\n      }, [n]),\n          b = m.useCallback(function (e) {\n        h(e.target.value);\n      }, [h]),\n          _ = m.useCallback(function () {\n        v();\n      }, [v]),\n          Z = m.useRef(f.default.cloneDeep(n)),\n          S = m.useRef(n.marketplace ? n.marketplace.region : \"\"),\n          z = m.useRef(n.marketplace ? n.marketplace.city : \"\"),\n          F = m.useRef(n.marketplace ? n.marketplace.format : \"\");\n\n      m.useEffect(function () {\n        if (H && !f.default.isEqual(Z.current, n) && n.marketplace) {\n          var e = r({}, n),\n              t = n.marketplace.format,\n              i = n.marketplace.city,\n              a = n.marketplace.region;\n          F.current && F.current !== t && (e.marketplace.address = \"\"), z.current && z.current !== i && (e.marketplace.address = \"\", e.marketplace.format = \"\"), S.current && S.current !== a && (e.marketplace.address = \"\", e.marketplace.format = \"\", e.marketplace.city = \"\"), Z.current = f.default.cloneDeep(e), S.current = a, z.current = i, F.current = t, H(e);\n        }\n      }, [H, n]);\n      var T = m.useCallback(function (e) {\n        H && H(r(r({}, n), {\n          marketplace: r(r({}, n.marketplace), {\n            region: e.target.value\n          })\n        }));\n      }, [H, n]),\n          w = m.useCallback(function (e) {\n        H && H(r(r({}, n), {\n          marketplace: r(r({}, n.marketplace), {\n            city: e.target.value\n          })\n        }));\n      }, [H, n]),\n          P = m.useCallback(function (e) {\n        H && H(r(r({}, n), {\n          marketplace: r(r({}, n.marketplace), {\n            format: e.target.value\n          })\n        }));\n      }, [H, n]),\n          R = m.useCallback(function (e) {\n        H && H(r(r({}, n), {\n          marketplace: r(r({}, n.marketplace), {\n            address: e.target.value\n          })\n        }));\n      }, [H, n]),\n          O = m.useCallback(function (e) {\n        H && H(r(r({}, n), {\n          idAssignee: e.target.value\n        }));\n      }, [H, n]);\n      return s.jsx(p.Fragment, null, s.jsx(o.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: u === V() ? 1300 : \"initial\"\n          };\n        },\n        onFocus: i.onPuzzleFocus.bind(i, V(), !1),\n        onMouseDown: i.onPuzzleFocus.bind(i, V(), !1),\n        focused: u === V(),\n        id: V()\n      }, s.jsx(l.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, s.jsx(l.Grid, {\n        item: !0,\n        xs: 12\n      }, s.jsx(l.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, \"Основная информация\")), s.jsx(d.TaskFieldContainer, {\n        label: \"Название задания\"\n      }, s.jsx(o.InputField, {\n        placeholder: \"Введите название задания\",\n        value: n.title,\n        onChange: b,\n        onBlur: _,\n        fullWidth: !0\n      })), s.jsx(d.TaskFieldContainer, {\n        label: \"Этап задания\"\n      }, s.jsx(l.Grid, {\n        container: !0,\n        direction: \"row\",\n        alignItems: \"flex-end\",\n        spacing: 2\n      }, s.jsx(l.Grid, {\n        item: !0,\n        xs: !0\n      }, s.jsx(o.InputField, {\n        placeholder: \"Введите название этапа\",\n        fullWidth: !0\n      })), s.jsx(l.Grid, {\n        item: !0\n      }, s.jsx(o.DateField, {\n        placeholder: \"Срок выполнения\"\n      })))), s.jsx(d.TaskFieldContainer, {\n        label: \"Местоположение\"\n      }, s.jsx(l.Grid, {\n        container: !0,\n        direction: \"row\",\n        alignItems: \"flex-end\",\n        spacing: 2\n      }, s.jsx(l.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(o.SelectField, {\n        value: n.marketplace ? n.marketplace.region : \"\",\n        placeholder: \"Регион\",\n        fullWidth: !0,\n        onChange: T\n      }, (y || []).map(function (e) {\n        return s.jsx(l.MenuItem, {\n          key: e,\n          value: e\n        }, e);\n      }))), n.marketplace && n.marketplace.region && s.jsx(l.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(o.SelectField, {\n        value: n.marketplace ? n.marketplace.city : \"\",\n        placeholder: \"Филиал\",\n        fullWidth: !0,\n        onChange: w\n      }, (M || []).map(function (e) {\n        return s.jsx(l.MenuItem, {\n          key: e,\n          value: e\n        }, e);\n      }))), n.marketplace && n.marketplace.city && s.jsx(l.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(o.SelectField, {\n        value: n.marketplace ? n.marketplace.format : \"\",\n        placeholder: \"Формат\",\n        fullWidth: !0,\n        onChange: P\n      }, (k || []).map(function (e) {\n        return s.jsx(l.MenuItem, {\n          key: e,\n          value: e\n        }, e);\n      }))), n.marketplace && n.marketplace.format && s.jsx(l.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(o.SelectField, {\n        value: n.marketplace ? n.marketplace.address : \"\",\n        placeholder: \"Адрес\",\n        fullWidth: !0,\n        onChange: R\n      }, (L || []).map(function (e) {\n        return s.jsx(l.MenuItem, {\n          key: e,\n          value: e\n        }, e);\n      }))))), s.jsx(d.TaskFieldContainer, {\n        label: \"Исполнитель\"\n      }, s.jsx(l.Grid, {\n        item: !0,\n        xs: 4\n      }, s.jsx(o.SelectField, {\n        value: n.idAssignee,\n        fullWidth: !0,\n        placeholder: \"Выберите исполнителя\",\n        onChange: O\n      }, t.map(function (e) {\n        return s.jsx(l.MenuItem, {\n          key: e.id,\n          value: e.id\n        }, e.username);\n      })))))), s.jsx(o.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3)\n          };\n        }\n      }, s.jsx(l.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, s.jsx(l.Grid, {\n        item: !0,\n        xs: 12\n      }, s.jsx(l.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, \"Документы\")))), a.map(function (e) {\n        return s.jsx(g, {\n          key: e.__uuid,\n          document: e,\n          templates: c,\n          service: i,\n          templateSnapshots: x,\n          focusedPuzzleId: u,\n          onTemplatesChange: j\n        });\n      }));\n    }, t.CreateTask.displayName = \"CreateTask\";\n\n    var g = function g(e) {\n      var t = e.templates,\n          n = e.templateSnapshots,\n          r = e.document,\n          i = e.service,\n          a = e.focusedPuzzleId,\n          d = e.onTemplatesChange,\n          p = n.get(r.id.toString()),\n          C = m.useCallback(function (e) {\n        d(r.__uuid, e);\n      }, [d, r]);\n      return s.jsx(o.SelectableBlockWrapper, {\n        key: r.__uuid,\n        onFocus: i.onPuzzleFocus.bind(i, r.__uuid, !1),\n        onMouseDown: i.onPuzzleFocus.bind(i, r.__uuid, !1),\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: a === r.__uuid ? 1300 : \"initial\"\n          };\n        },\n        focused: a === r.__uuid,\n        id: r.__uuid\n      }, s.jsx(l.Grid, {\n        item: !0,\n        xs: 3,\n        css: function css(e) {\n          return {\n            paddingLeft: e.spacing(3)\n          };\n        }\n      }, s.jsx(o.SelectField, {\n        placeholder: \"Выбрать шаблон\",\n        value: -1 === r.id ? \"\" : r.id,\n        fullWidth: !0,\n        onChange: C\n      }, t.map(function (e) {\n        return s.jsx(l.MenuItem, {\n          key: e.id,\n          value: e.id\n        }, e.title);\n      }))), s.jsx(l.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, s.jsx(l.Grid, {\n        item: !0,\n        xs: 12\n      }, f.default.get(p, \"id\") && s.jsx(o.ButtonLikeText, {\n        component: u.Link,\n        to: \"/templates/edit/\" + f.default.get(p, \"id\"),\n        css: function css(e) {\n          return {\n            marginLeft: e.spacing(),\n            marginTop: e.spacing(2)\n          };\n        }\n      }, \"Перейти к шаблону\"), s.jsx(c.TemplateRenderer, {\n        template: p\n      }))));\n    };\n\n    g.displayName = \"TaskDocument\";\n  }, function (e, t) {\n    e.exports = u;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = (n(1), n(6), r(n(2))),\n        s = n(20);\n    t.TemplateRenderer = function (e) {\n      var t = e.template,\n          n = e.answers;\n      return t ? i.jsx(a.Fragment, null, (t.sections || []).map(function (e, t) {\n        return i.jsx(s.SectionRenderer, {\n          key: e.id,\n          answers: n,\n          index: t,\n          section: e\n        });\n      }), !1) : null;\n    }, t.TemplateRenderer.displayName = \"TemplateRenderer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var r,\n          i,\n          a = n.call(e),\n          s = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(r = a.next()).done;) {\n          s.push(r.value);\n        }\n      } catch (e) {\n        i = {\n          error: e\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    },\n        i = this && this.__spread || function () {\n      for (var e = [], t = 0; t < arguments.length; t++) {\n        e = e.concat(r(arguments[t]));\n      }\n\n      return e;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var a = n(0),\n        s = n(3),\n        o = n(5),\n        l = n(1),\n        u = n(2),\n        c = n(21);\n    t.SectionRenderer = function (e) {\n      var t = e.index,\n          n = e.section,\n          d = e.answers,\n          f = r(u.useState(!1), 2),\n          p = f[0],\n          m = f[1],\n          C = u.useCallback(function () {\n        m(!p);\n      }, [p]);\n      return a.jsx(l.Grid, {\n        container: !0,\n        direction: \"column\",\n        spacing: 2,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(4)\n          };\n        }\n      }, a.jsx(l.Grid, {\n        item: !0,\n        css: {\n          position: \"relative\"\n        }\n      }, a.jsx(l.Typography, {\n        component: \"span\",\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large,\n            fontWeight: 500\n          };\n        }\n      }, \"Раздел \", t + 1, \".\"), a.jsx(l.Typography, {\n        component: \"span\",\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large,\n            marginLeft: e.spacing()\n          };\n        }\n      }, n.title), a.jsx(s.ButtonLikeText, {\n        css: function css(e) {\n          return {\n            position: \"absolute\",\n            top: \"50%\",\n            transform: \"translateY(-50%)\",\n            right: e.spacing(4)\n          };\n        },\n        onClick: C\n      }, p ? \"Развернуть\" : \"Свернуть\", \" раздел\")), !p && a.jsx(l.Grid, {\n        item: !0\n      }, (n.puzzles || []).reduce(function (e, t) {\n        return t.puzzleType !== o.EPuzzleType.GROUP ? i(e, [t]) : (e.push.apply(e, i(t.puzzles)), i(e));\n      }, []).map(function (e, t, n) {\n        var r = t === n.length - 1;\n        return a.jsx(c.PuzzleRenderer, {\n          answers: (d || []).filter(function (t) {\n            return t.idPuzzle === e.id;\n          }),\n          key: e.id,\n          puzzle: e,\n          last: r\n        });\n      })));\n    }, t.SectionRenderer.displayName = \"SectionRenderer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(5),\n        s = n(8),\n        o = n(1),\n        l = r(n(4)),\n        u = n(22);\n    t.PuzzleRenderer = function (e) {\n      var t = e.puzzle,\n          n = e.last,\n          r = void 0 !== n && n,\n          c = e.answers,\n          d = t.puzzles.some(function (e) {\n        return e.puzzleType === a.EPuzzleType.REFERENCE_ANSWER;\n      }),\n          f = c.some(function (e) {\n        return e.answerType === a.EPuzzleType.UPLOAD_FILES;\n      }),\n          p = l.default.get(c.find(function (e) {\n        return e.comment;\n      }), \"comment\");\n      return i.jsx(o.Grid, {\n        container: !0,\n        direction: \"column\",\n        spacing: 2,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3),\n            position: \"relative\"\n          };\n        }\n      }, i.jsx(i.Global, {\n        styles: function styles(e) {\n          return {\n            \".tooltip\": {\n              padding: e.spacing(),\n              fontSize: e.fontSize.mNormal,\n              background: e.colors.white,\n              color: e.colors.default,\n              borderRadius: e.radius(.5),\n              boxShadow: e.boxShadow.secondary,\n              fontWeight: \"normal\",\n              maxWidth: e.spacing(60),\n              wordBreak: \"break-word\"\n            }\n          };\n        }\n      }), i.jsx(o.Grid, {\n        item: !0\n      }, i.jsx(o.Grid, {\n        container: !0,\n        spacing: 2\n      }, i.jsx(o.Grid, {\n        item: !0\n      }, !r && i.jsx(\"div\", {\n        css: function css(e) {\n          return {\n            width: e.spacing(.25),\n            height: \"100%\",\n            background: e.colors.lightGray,\n            position: \"absolute\",\n            top: e.spacing(4),\n            left: \"20.5px\",\n            zIndex: 1\n          };\n        }\n      }), i.jsx(\"div\", {\n        css: function css(e) {\n          return {\n            width: e.spacing(3),\n            height: e.spacing(3),\n            borderRadius: \"50%\",\n            border: \"2px solid \" + e.colors.primary,\n            zIndex: 2,\n            position: \"relative\",\n            background: c.length ? e.colors.primary : e.colors.white,\n            color: d ? e.colors.primary : c.length ? e.colors.white : \"initial\"\n          };\n        }\n      }, !!c.length && i.jsx(s.CheckIcon, null), d && i.jsx(s.InfoIcon, null))), i.jsx(o.Grid, {\n        item: !0\n      }, i.jsx(o.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.medium,\n            color: e.colors.secondary,\n            maxWidth: e.spacing(100)\n          };\n        }\n      }, t.title)), p && i.jsx(o.Grid, {\n        item: !0,\n        css: {\n          position: \"absolute\",\n          right: \"0\"\n        }\n      }, i.jsx(o.Tooltip, {\n        classes: {\n          tooltip: \"tooltip\"\n        },\n        title: p,\n        placement: \"left\"\n      }, i.jsx(o.Grid, null, i.jsx(s.CommentIcon, {\n        css: {\n          cursor: \"pointer\"\n        }\n      })))))), i.jsx(o.Grid, {\n        item: !0,\n        css: function css(e) {\n          return {\n            marginLeft: e.spacing(5)\n          };\n        }\n      }, i.jsx(o.Grid, {\n        container: !0,\n        direction: \"column\",\n        spacing: 2\n      }, i.jsx(u.PuzzleAnswerRenderer, {\n        reference: d,\n        upload: f,\n        answers: c,\n        puzzle: t\n      }))));\n    }, t.PuzzleRenderer.displayName = \"PuzzleRenderer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var r,\n          i,\n          a = n.call(e),\n          s = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(r = a.next()).done;) {\n          s.push(r.value);\n        }\n      } catch (e) {\n        i = {\n          error: e\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    },\n        i = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        a = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = n(0),\n        o = n(3),\n        l = n(5),\n        u = n(1),\n        c = n(6),\n        d = i(n(4)),\n        f = a(n(2)),\n        p = n(2),\n        m = n(23);\n    t.PuzzleAnswerRenderer = function (e) {\n      var t = e.reference,\n          n = e.puzzle,\n          i = e.answers,\n          a = e.upload,\n          C = r(p.useState(!a), 2),\n          g = C[0],\n          x = C[1];\n      return s.jsx(f.Fragment, null, a && s.jsx(u.Grid, {\n        item: !0,\n        xs: 12\n      }, s.jsx(o.ButtonLikeText, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        },\n        onClick: function onClick() {\n          x(!g);\n        }\n      }, i.length, \" файл(а)\", s.jsx(c.ArrowDropDown, {\n        css: function css(e) {\n          return {\n            transform: g ? \"rotate(-180deg)\" : \"none\",\n            color: e.colors.secondary,\n            verticalAlign: \"bottom\"\n          };\n        }\n      }))), g && s.jsx(f.Fragment, null, t && m.getPuzzleFactory(l.EPuzzleType.REFERENCE_ANSWER).create({\n        index: 0,\n        puzzle: d.default.first(n.puzzles)\n      }), i.map(function (e, t) {\n        var r = n.puzzles.find(function (t) {\n          switch (e.answerType) {\n            case l.EPuzzleType.CHECKBOX_ANSWER:\n            case l.EPuzzleType.DROPDOWN_ANSWER:\n            case l.EPuzzleType.RADIO_ANSWER:\n            case l.EPuzzleType.REFERENCE_ANSWER:\n              return e.answer === t.id;\n\n            default:\n              return !0;\n          }\n        });\n        return r ? m.getPuzzleFactory(e.answerType).create({\n          index: t,\n          puzzle: r,\n          answer: e\n        }) : null;\n      }).filter(Boolean)));\n    }, t.PuzzleAnswerRenderer.displayName = \"PuzzleAnswerRenderer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(24));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var r = n(0),\n        i = n(5),\n        a = n(25),\n        s = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return r.jsx(\"div\", {\n          key: e.index\n        });\n      }, e;\n    }();\n\n    t.getPuzzleFactory = function (e) {\n      switch (e) {\n        case i.EPuzzleType.CHECKBOX_ANSWER:\n          return new a.CheckboxAnswerFactory();\n\n        case i.EPuzzleType.RADIO_ANSWER:\n          return new a.RadioAnswerFactory();\n\n        case i.EPuzzleType.DROPDOWN_ANSWER:\n          return new a.DropdownAnswerFactory();\n\n        case i.EPuzzleType.TEXT_ANSWER:\n        case i.EPuzzleType.NUMERIC_ANSWER:\n        case i.EPuzzleType.DATE_ANSWER:\n          return new a.TextAnswerFactory();\n\n        case i.EPuzzleType.REFERENCE_ANSWER:\n          return new a.ReferenceAnswerFactory();\n\n        case i.EPuzzleType.UPLOAD_FILES:\n          return new a.UploadFilesFactory();\n\n        default:\n          return new s();\n      }\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    function r(e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), r(n(26)), r(n(29)), r(n(32)), r(n(35)), r(n(38)), r(n(41));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(27));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(28),\n        s = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return i.jsx(a.CheckboxAnswer, r({\n          key: e.puzzle.id\n        }, e));\n      }, e;\n    }();\n\n    t.CheckboxAnswerFactory = s;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(3),\n        a = n(1);\n    t.CheckboxAnswer = function (e) {\n      var t = e.puzzle;\n      return r.jsx(a.Grid, {\n        item: !0,\n        css: {\n          display: \"flex\",\n          alignItems: \"center\"\n        }\n      }, r.jsx(a.Checkbox, {\n        disabled: !0\n      }), r.jsx(i.InputField, {\n        disabled: !0,\n        simple: !0,\n        value: t.title\n      }));\n    }, t.CheckboxAnswer.displayName = \"CheckboxAnswer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(30));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(31),\n        s = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return i.jsx(a.RadioAnswer, r({\n          key: e.puzzle.id\n        }, e));\n      }, e;\n    }();\n\n    t.RadioAnswerFactory = s;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(3),\n        a = n(1);\n    t.RadioAnswer = function (e) {\n      var t = e.puzzle;\n      return r.jsx(a.Grid, {\n        item: !0,\n        css: {\n          display: \"flex\",\n          alignItems: \"center\"\n        }\n      }, r.jsx(a.Radio, {\n        disabled: !0\n      }), r.jsx(i.InputField, {\n        disabled: !0,\n        simple: !0,\n        value: t.title\n      }));\n    }, t.RadioAnswer.displayName = \"RadioAnswer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(33));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(34),\n        s = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return i.jsx(a.DropdownAnswer, r({\n          key: e.puzzle.id\n        }, e));\n      }, e;\n    }();\n\n    t.DropdownAnswerFactory = s;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(3),\n        a = n(1);\n    t.DropdownAnswer = function (e) {\n      var t = e.puzzle,\n          n = e.index;\n      return r.jsx(a.Grid, {\n        item: !0,\n        css: {\n          display: \"flex\",\n          alignItems: \"center\"\n        }\n      }, r.jsx(a.Typography, {\n        css: function css(e) {\n          return {\n            marginRight: e.spacing()\n          };\n        }\n      }, n + 1, \".\"), r.jsx(i.InputField, {\n        disabled: !0,\n        simple: !0,\n        value: t.title\n      }));\n    }, t.DropdownAnswer.displayName = \"DropdownAnswer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(36));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(37),\n        s = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return i.jsx(a.TextAnswer, r({\n          key: e.puzzle.id\n        }, e));\n      }, e;\n    }();\n\n    t.TextAnswerFactory = s;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(3),\n        a = n(1);\n    t.TextAnswer = function (e) {\n      var t = e.answer;\n      return r.jsx(a.Grid, {\n        item: !0,\n        css: {\n          display: \"flex\",\n          alignItems: \"center\"\n        }\n      }, r.jsx(i.InputField, {\n        disabled: !0,\n        simple: !0,\n        value: t ? t.answer : \"\"\n      }));\n    }, t.TextAnswer.displayName = \"TextAnswer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(39));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(40),\n        s = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return i.jsx(a.ReferenceAnswer, r({\n          key: e.puzzle.id\n        }, e));\n      }, e;\n    }();\n\n    t.ReferenceAnswerFactory = s;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var r,\n          i,\n          a = n.call(e),\n          s = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(r = a.next()).done;) {\n          s.push(r.value);\n        }\n      } catch (e) {\n        i = {\n          error: e\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(3),\n        s = n(5),\n        o = n(1),\n        l = n(6),\n        u = n(2);\n    t.ReferenceAnswer = function (e) {\n      var t = e.puzzle,\n          n = r(u.useState(!1), 2),\n          c = n[0],\n          d = n[1],\n          f = t.puzzles.find(function (e) {\n        return e.puzzleType === s.EPuzzleType.REFERENCE_TEXT;\n      }),\n          p = t.puzzles.filter(function (e) {\n        return e.puzzleType === s.EPuzzleType.REFERENCE_ASSET;\n      });\n      return i.jsx(o.Grid, {\n        item: !0\n      }, i.jsx(o.Grid, {\n        container: !0,\n        spacing: 2\n      }, i.jsx(o.Grid, {\n        item: !0,\n        xs: 12,\n        css: {\n          div: {\n            \":before\": {\n              content: \"none\"\n            },\n            \":after\": {\n              content: \"none\"\n            }\n          }\n        }\n      }, f && i.jsx(o.TextField, {\n        fullWidth: !0,\n        multiline: !0,\n        InputProps: {\n          readOnly: !0\n        },\n        value: f.description\n      })), i.jsx(o.Grid, {\n        item: !0,\n        xs: 12\n      }, i.jsx(a.ButtonLikeText, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        },\n        onClick: function onClick() {\n          d(!c);\n        }\n      }, p.length, \" файл(a)\", i.jsx(l.ArrowDropDown, {\n        css: function css(e) {\n          return {\n            transform: c ? \"rotate(-180deg)\" : \"none\",\n            color: e.colors.secondary,\n            verticalAlign: \"bottom\"\n          };\n        }\n      }))), !!p.length && c && p.map(function (e) {\n        return i.jsx(o.Grid, {\n          item: !0,\n          xs: 2\n        }, i.jsx(a.AssetPreview, {\n          filename: e.title,\n          src: e.description,\n          ext: e.description.split(\".\").pop()\n        }));\n      })));\n    }, t.ReferenceAnswer.displayName = \"ReferenceAnswer\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(42));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n\n    var i = n(0),\n        a = n(43),\n        s = function () {\n      function e() {}\n\n      return e.prototype.create = function (e) {\n        return i.jsx(a.UploadFiles, r({\n          key: e.puzzle.id\n        }, e));\n      }, e;\n    }();\n\n    t.UploadFilesFactory = s;\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var i = n(0),\n        a = n(3),\n        s = n(1),\n        o = r(n(4));\n    t.UploadFiles = function (e) {\n      var t = e.answer;\n      if (!t) return null;\n      var n = t.answer.split(\"?originalname=\"),\n          r = o.default.first(n),\n          l = o.default.last(n),\n          u = r.split(\".\").pop();\n      return i.jsx(s.Grid, {\n        item: !0,\n        xs: 2\n      }, i.jsx(a.AssetPreview, {\n        filename: l,\n        src: r,\n        ext: u\n      }));\n    }, t.UploadFiles.displayName = \"UploadFiles\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n        i = n(0);\n\n    t.TaskFieldContainer = function (e) {\n      var t = e.label,\n          n = e.children;\n      return i.jsx(r.Grid, {\n        container: !0,\n        direction: \"row\",\n        spacing: 2,\n        alignItems: \"flex-start\",\n        css: function css(e) {\n          return {\n            marginTop: e.spacing()\n          };\n        }\n      }, i.jsx(r.Grid, {\n        item: !0,\n        xs: 2,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(2)\n          };\n        }\n      }, i.jsx(r.Typography, {\n        component: \"span\"\n      }, t)), i.jsx(r.Grid, {\n        item: !0,\n        xs: !0\n      }, n));\n    };\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    }), function (e) {\n      for (var n in e) {\n        t.hasOwnProperty(n) || (t[n] = e[n]);\n      }\n    }(n(46));\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        i = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var r,\n          i,\n          a = n.call(e),\n          s = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(r = a.next()).done;) {\n          s.push(r.value);\n        }\n      } catch (e) {\n        i = {\n          error: e\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    },\n        a = this && this.__spread || function () {\n      for (var e = [], t = 0; t < arguments.length; t++) {\n        e = e.concat(i(arguments[t]));\n      }\n\n      return e;\n    },\n        s = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        o = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var l = n(0),\n        u = n(3),\n        c = n(5),\n        d = n(8),\n        f = n(1),\n        p = s(n(4)),\n        m = o(n(2)),\n        C = n(2),\n        g = s(n(9)),\n        x = n(47),\n        h = n(48),\n        j = n(49),\n        v = n(50),\n        y = n(53);\n\n    function M(e, t) {\n      var n;\n      return (n = {}, n[c.ETaskStatus.IN_PROGRESS] = e.colors.violet, n[c.ETaskStatus.ON_CHECK] = e.colors.darkYellow, n[c.ETaskStatus.COMPLETED] = e.colors.green, n[c.ETaskStatus.DRAFT] = e.colors.secondary, n[c.ETaskStatus.EXPIRED] = e.colors.darkRed, n)[t];\n    }\n\n    function L(e) {\n      return 1 === e ? \"день\" : e > 1 && e < 5 ? \"дня\" : \"дней\";\n    }\n\n    t.ViewTask = function (e) {\n      var t = e.users,\n          n = e.service,\n          s = e.task,\n          o = e.pendingComments,\n          k = e.focusedPuzzleId,\n          H = e.templateSnapshots,\n          V = e.documents,\n          b = e.templates,\n          _ = e.editable,\n          Z = void 0 === _ || _,\n          S = e.onAddStage,\n          z = e.onDeleteStage,\n          F = e.onEditableChange,\n          T = e.onTemplatesChange,\n          w = e.onTaskChange,\n          P = e.onAddAsset,\n          R = e.onDeleteAsset,\n          O = e.onPendingCommentDelete,\n          E = e.onPendingCommentAccept,\n          I = e.onCommentDelete,\n          A = e.regions,\n          D = e.cities,\n          G = e.addresses,\n          N = e.formats,\n          W = i(C.useState(null), 2),\n          B = W[0],\n          q = W[1],\n          U = i(C.useState(!1), 2),\n          X = U[0],\n          K = U[1],\n          Y = i(C.useState(\"\"), 2),\n          Q = Y[0],\n          J = Y[1],\n          $ = C.useRef(null),\n          ee = C.useRef(Q);\n      C.useEffect(function () {\n        ee.current !== s.idAssignee && (ee.current = s.idAssignee, J(s.idAssignee));\n      }, [s.idAssignee]);\n      var te = C.useCallback(function (e) {\n        var t = p.default.first(e.target.files);\n        t && P && P(t);\n      }, [P]),\n          ne = C.useCallback(function (e) {\n        R && R(e);\n      }, [R]);\n      C.useEffect(function () {\n        s.stages && S && Z && 0 === s.stages.length && S({\n          id: 0,\n          editable: !0,\n          title: \"\",\n          completed: !1,\n          deadline: \"\"\n        });\n      }, [s.stages, S, Z]);\n      var re = C.useCallback(function () {\n        var e = p.default.last(s.stages);\n        e && S && S({\n          id: e.id + 1,\n          title: \"\",\n          deadline: \"\",\n          editable: !0\n        });\n      }, [s.stages, S]),\n          ie = C.useCallback(function (e, t) {\n        if (s.stages) {\n          if (s.stages.some(function (t) {\n            return t.id === e;\n          })) {\n            var n = s.stages.findIndex(function (t) {\n              return t.id === e;\n            });\n            s.stages[n].title = t;\n          }\n\n          w && w(r({}, s));\n        }\n      }, [s, w]),\n          ae = C.useCallback(function (e, t) {\n        if (s.stages) {\n          if (s.stages.some(function (t) {\n            return t.id === e;\n          })) {\n            var n = s.stages.findIndex(function (t) {\n              return t.id === e;\n            });\n            s.stages[n].deadline = t;\n          }\n\n          w && w(r({}, s));\n        }\n      }, [s, w]),\n          se = C.useCallback(function (e) {\n        s.stages && (s.stages.length < 2 || z && z(e));\n      }, [z, s.stages]),\n          oe = C.useCallback(function (e, t) {\n        F && F(e, t);\n      }, [F]);\n\n      function le() {\n        q(null);\n      }\n\n      var ue = C.useCallback(function (e) {\n        le(), w && w(r(r({}, s), {\n          notifyBefore: e\n        }));\n      }, [w, s]);\n      var ce = C.useCallback(function () {\n        w && w(r(r({}, s), {\n          idAssignee: Q\n        })), K(!1);\n      }, [Q, w, s]),\n          de = C.useCallback(function () {\n        return p.default.get(s, \"id\", g.default()).toString();\n      }, [s]),\n          fe = Z && (s.stages || []).every(function (e) {\n        return !e.editable;\n      }),\n          pe = s.stages && s.stages.length > 0 || (!s.stages || 0 === s.stages.length) && Z;\n      var me = C.useRef(g.default()),\n          Ce = s.status !== c.ETaskStatus.IN_PROGRESS && s.status !== c.ETaskStatus.COMPLETED,\n          ge = s.status === c.ETaskStatus.IN_PROGRESS || s.status === c.ETaskStatus.COMPLETED,\n          xe = s.documents && s.documents.length > 0,\n          he = t.find(function (e) {\n        return e.id === s.idOwner;\n      }),\n          je = t.find(function (e) {\n        return e.id === s.idAssignee;\n      });\n      return l.jsx(m.Fragment, null, l.jsx(f.Menu, {\n        keepMounted: !0,\n        open: Boolean(B),\n        anchorEl: B,\n        onClose: le\n      }, l.jsx(f.MenuItem, {\n        onClick: function onClick() {\n          ue(1);\n        }\n      }, \"за 1 день\"), l.jsx(f.MenuItem, {\n        onClick: function onClick() {\n          ue(2);\n        }\n      }, \"за 2 дня\"), l.jsx(f.MenuItem, {\n        onClick: function onClick() {\n          ue(3);\n        }\n      }, \"за 3 дня\"), l.jsx(f.MenuItem, {\n        onClick: function onClick() {\n          ue(4);\n        }\n      }, \"за 4 дня\"), l.jsx(f.MenuItem, {\n        onClick: function onClick() {\n          ue(5);\n        }\n      }, \"за 5 дней\"), l.jsx(f.MenuItem, {\n        onClick: function onClick() {\n          ue(6);\n        }\n      }, \"за 6 дней\"), l.jsx(f.MenuItem, {\n        onClick: function onClick() {\n          ue(7);\n        }\n      }, \"за 7 дней\")), l.jsx(f.Dialog, {\n        onClose: function onClose() {\n          K(!1);\n        },\n        open: X,\n        classes: {\n          paper: \"paper\"\n        },\n        css: {\n          \".paper\": {\n            overflow: \"hidden\"\n          }\n        }\n      }, l.jsx(f.Grid, {\n        container: !0,\n        spacing: 2,\n        direction: \"column\",\n        css: function css(e) {\n          return {\n            padding: e.spacing(6),\n            minWidth: e.spacing(50)\n          };\n        }\n      }, l.jsx(f.Grid, {\n        item: !0\n      }, l.jsx(f.Grid, {\n        container: !0,\n        justify: \"center\",\n        alignItems: \"center\"\n      }, l.jsx(f.Grid, {\n        item: !0\n      }, l.jsx(x.ChangeAssigneeIllustration, null)))), l.jsx(f.Grid, {\n        item: !0\n      }, l.jsx(f.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.medium\n          };\n        }\n      }, \"Выберите исполнителя:\")), l.jsx(f.Grid, {\n        item: !0\n      }, l.jsx(u.SelectField, {\n        value: Q,\n        fullWidth: !0,\n        placeholder: \"Выберите исполнителя\",\n        onChange: function onChange(e) {\n          J(e.target.value);\n        }\n      }, t.map(function (e) {\n        return l.jsx(f.MenuItem, {\n          key: e.id,\n          value: e.id\n        }, e.username);\n      }))), l.jsx(f.Grid, {\n        item: !0,\n        css: function css(e) {\n          return {\n            paddingTop: e.spacing(5) + \" !important\"\n          };\n        }\n      }, l.jsx(f.Grid, {\n        container: !0,\n        justify: \"center\",\n        alignItems: \"center\"\n      }, l.jsx(f.Grid, {\n        item: !0\n      }, l.jsx(u.Button, {\n        variant: \"contained\",\n        scheme: \"blue\",\n        onClick: ce\n      }, l.jsx(d.CheckIcon, null), l.jsx(f.Typography, null, \"Сохранить\"))))))), s.status === c.ETaskStatus.DRAFT && l.jsx(h.DraftView, {\n        users: t,\n        cities: D,\n        regions: A,\n        formats: N,\n        addresses: G,\n        service: n,\n        focusedPuzzleId: k,\n        task: s,\n        onTaskChange: w,\n        onChangeStageTitle: ie,\n        onChangeStageDeadline: ae\n      }), s.status !== c.ETaskStatus.DRAFT && l.jsx(u.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: k === de() ? 1300 : \"initial\"\n          };\n        },\n        onFocus: n.onPuzzleFocus.bind(n, de(), !1),\n        onMouseDown: n.onPuzzleFocus.bind(n, de(), !1),\n        focused: k === de(),\n        id: de()\n      }, l.jsx(f.Grid, {\n        container: !0,\n        spacing: 2\n      }, l.jsx(f.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            paddingLeft: e.spacing(4),\n            paddingRight: e.spacing(4)\n          };\n        }\n      }, l.jsx(f.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, s.title)), l.jsx(f.Grid, {\n        item: !0\n      }, l.jsx(\"span\", {\n        css: function css(e) {\n          return {\n            width: e.spacing(),\n            height: e.spacing(),\n            borderRadius: \"50%\",\n            display: \"inline-block\",\n            background: s.status ? M(e, s.status) : \"none\",\n            margin: \"2px 10px 2px 0\"\n          };\n        }\n      }), l.jsx(\"span\", {\n        css: function css(e) {\n          return {\n            color: s.status ? M(e, s.status) : \"inherit\"\n          };\n        }\n      }, s.status && function (e) {\n        var t;\n        return (t = {}, t[c.ETaskStatus.IN_PROGRESS] = \"В работе\", t[c.ETaskStatus.ON_CHECK] = \"На проверке\", t[c.ETaskStatus.COMPLETED] = \"Завершено\", t[c.ETaskStatus.DRAFT] = \"Черновик\", t[c.ETaskStatus.EXPIRED] = \"Просрочено\", t)[e];\n      }(s.status)))), l.jsx(f.Grid, {\n        container: !0,\n        spacing: 2\n      }, l.jsx(f.Grid, {\n        item: !0,\n        xs: 7,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(4)\n          };\n        }\n      }, l.jsx(f.Grid, {\n        spacing: 2,\n        container: !0,\n        direction: \"row\"\n      }, he && l.jsx(j.InfoField, {\n        value: he.username,\n        title: \"Администратор\"\n      }), l.jsx(j.InfoField, {\n        title: \"Исполнитель\",\n        value: je ? je.username : \"\",\n        editable: Z,\n        label: \"Изменить исполнителя\",\n        onEditableClick: function onEditableClick() {\n          K(!0);\n        }\n      })), l.jsx(f.Grid, {\n        container: !0,\n        spacing: 2,\n        direction: \"row\",\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3)\n          };\n        }\n      }, s.marketplace && s.marketplace.region && s.marketplace.city && s.marketplace.address && l.jsx(j.InfoField, {\n        title: \"Местоположение\",\n        value: s.marketplace.region + \", г. \" + s.marketplace.city + \", ул. \" + s.marketplace.address\n      }), s.marketplace && s.marketplace.format && l.jsx(j.InfoField, {\n        title: \"Формат объекта\",\n        value: s.marketplace.format\n      }))), l.jsx(f.Grid, {\n        item: !0,\n        xs: 5\n      }, l.jsx(f.Grid, {\n        container: !0,\n        spacing: 2,\n        css: {\n          height: \"100%\",\n          alignItems: pe ? \"initial\" : \"flex-end\"\n        }\n      }, l.jsx(f.Grid, {\n        item: !0,\n        xs: 12\n      }, pe && l.jsx(y.TaskStages, {\n        task: s,\n        onChangeStageDeadline: ae,\n        onChangeStageTitle: ie,\n        onDeleteStage: se\n      }), fe && l.jsx(u.Button, {\n        variant: \"outlined\",\n        scheme: \"outline\",\n        css: function css(e) {\n          return {\n            color: e.colors.primary,\n            marginLeft: e.spacing(6)\n          };\n        },\n        onClick: re\n      }, l.jsx(d.AddIcon, null), l.jsx(f.Typography, null, \"Новый этап\"))), s.status !== c.ETaskStatus.COMPLETED && s.notifyBefore && l.jsx(f.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            marginLeft: e.spacing(6)\n          };\n        }\n      }, l.jsx(f.Typography, null, \"Уведомить исполнителя о наступлении \", l.jsx(\"br\", null), \" срока выполнения этапа\", Z && l.jsx(u.ButtonLikeText, {\n        onClick: function onClick(e) {\n          q(e.currentTarget);\n        },\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        }\n      }, \" за \", s.notifyBefore, \" \", L(s.notifyBefore)), !Z && l.jsx(m.Fragment, null, \" за \", s.notifyBefore, \" \", L(s.notifyBefore)))))))), (ge && xe || Ce) && l.jsx(u.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: k === me.current ? 1300 : \"initial\"\n          };\n        },\n        onFocus: n.onPuzzleFocus.bind(n, me.current, !1),\n        onMouseDown: n.onPuzzleFocus.bind(n, me.current, !1),\n        focused: k === me.current,\n        id: me.current\n      }, l.jsx(f.Grid, {\n        container: !0,\n        spacing: 2,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, l.jsx(f.Grid, {\n        item: !0,\n        xs: 12\n      }, l.jsx(f.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, \"Документы\")), (s.documents || []).map(function (e) {\n        return l.jsx(f.Grid, {\n          item: !0,\n          xs: 2,\n          key: e.id\n        }, l.jsx(u.AssetPreview, {\n          src: e.filename,\n          filename: e.originalName,\n          ext: e.filename.split(\".\").pop(),\n          deletable: Ce,\n          onDelete: function onDelete() {\n            return ne(e.id);\n          }\n        }));\n      }), Z && l.jsx(f.Grid, {\n        item: !0,\n        xs: 2\n      }, l.jsx(f.Grid, {\n        container: !0,\n        justify: \"center\",\n        alignItems: \"center\",\n        direction: \"column\",\n        css: function css(e) {\n          return {\n            height: \"100%\",\n            border: \"1px solid \" + e.colors.lightGray,\n            borderRadius: e.radius(.5),\n            minHeight: e.spacing(20),\n            position: \"relative\"\n          };\n        }\n      }, l.jsx(\"input\", {\n        ref: $,\n        accept: \"image/*,.pdf,.doc,.xls,.xlsx\",\n        type: \"file\",\n        hidden: !0,\n        onChange: te\n      }), l.jsx(u.Fab, {\n        css: function css(e) {\n          return {\n            width: e.spacing(4),\n            height: e.spacing(4),\n            minHeight: e.spacing(4),\n            marginBottom: e.spacing()\n          };\n        },\n        onClick: function onClick() {\n          $.current && $.current.click();\n        }\n      }, l.jsx(d.AddIcon, null)), l.jsx(f.Typography, {\n        css: function css(e) {\n          return {\n            userSelect: \"none\",\n            fontSize: e.fontSize.sNormal,\n            color: e.colors.secondary\n          };\n        },\n        align: \"center\"\n      }, \"Добавить файл\"))))), V.map(function (e) {\n        var t = o.filter(function (t) {\n          return t.idAssignment === e.id;\n        }),\n            r = (s.templates || []).find(function (t) {\n          return t.id === e.id;\n        }),\n            i = [];\n        return r && p.default.isArray(r.comments) && i.push.apply(i, a(r.comments)), l.jsx(v.TaskDocument, {\n          key: e.__uuid,\n          pendingComments: t,\n          comments: i,\n          editable: Z,\n          documents: V,\n          document: e,\n          templates: b,\n          service: n,\n          templateSnapshots: H,\n          focusedPuzzleId: k,\n          onEditableChange: oe,\n          onTemplateChange: T,\n          onPendingCommentDelete: O,\n          onPendingCommentAccept: E,\n          onCommentDelete: I\n        });\n      }));\n    }, t.ViewTask.displayName = \"ViewTask\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__makeTemplateObject || function (e, t) {\n      return Object.defineProperty ? Object.defineProperty(e, \"raw\", {\n        value: t\n      }) : e.raw = t, e;\n    },\n        i = this && this.__assign || function () {\n      return (i = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var a,\n        s = n(0),\n        o = n(1);\n    t.ChangeAssigneeIllustration = function (e) {\n      return s.jsx(o.SvgIcon, i({\n        width: 287,\n        height: 197,\n        viewBox: \"0 0 287 197\",\n        css: s.css(a || (a = r([\"\\n                fill: none;\\n                width: 287px;\\n                height: 197px;\\n            \"], [\"\\n                fill: none;\\n                width: 287px;\\n                height: 197px;\\n            \"])))\n      }, e), s.jsx(\"path\", {\n        d: \"M158.886 120H134.124V127.75V135.5L127.686 151L158.886 149.5V135.5V127.75V120Z\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), s.jsx(\"path\", {\n        d: \"M95.0001 159.325V191H199V161.629C199 156.794 198.77 151.755 196.702 147.384C195.691 145.247 194.013 142.713 190.853 139.444C185.159 133.555 176.077 133 167.884 133H160.71C159.78 133 158.923 133.473 158.336 134.194C156.158 136.871 151.978 140.436 146.76 140.436C141 140.436 137.005 136.903 135.081 134.231C134.555 133.5 133.739 133 132.839 133C122.096 133 109.985 133.1 102.404 140.712C102.332 140.785 102.26 140.858 102.189 140.932C99.3562 143.862 97.6396 146.908 96.5445 149.557C95.2739 152.631 95.0001 155.999 95.0001 159.325Z\",\n        fill: \"white\"\n      }), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M132.639 191H199.001L197.765 160.961C197.589 156.682 197.367 152.307 196.289 148.161C195.685 145.838 194.36 143.071 190.853 139.444C185.212 133.609 176.035 133.399 167.815 133.21C167.408 133.201 167.003 133.192 166.601 133.182L160.781 133.038C159.81 133.015 158.908 133.498 158.292 134.249C156.101 136.919 151.943 140.436 146.761 140.436C141 140.436 137.006 136.903 135.081 134.231C134.555 133.5 133.74 133 132.84 133C132.773 133 132.706 133 132.639 133V191Z\",\n        fill: \"#A2CFF4\"\n      }), s.jsx(\"path\", {\n        d: \"M95 159.278V191H198V164.445C198 157.74 197.242 150.879 193.864 145.087C192.609 142.935 191.148 140.94 189.5 139.5C183.559 134.309 175.41 133 167.52 133H160.442C159.542 133 158.713 133.46 158.146 134.159C155.966 136.853 151.692 140.5 146.5 140.5C140.78 140.5 136.642 136.902 134.693 134.213C134.172 133.495 133.368 133 132.481 133C121.839 133 109.839 133.124 102.355 140.69C102.276 140.77 102.198 140.85 102.12 140.932C99.3005 143.876 97.5976 146.937 96.5137 149.595C95.2696 152.647 95 155.983 95 159.278Z\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M120.752 134.003C114.917 134.873 109.465 136.759 105.325 140.854C105.27 140.909 105.215 140.964 105.16 141.019C102.396 143.816 100.694 146.721 99.5962 149.268C98.2512 152.388 97.9713 155.832 97.9713 159.229V189.999H120.752V134.003Z\",\n        fill: \"#A2CFF4\"\n      }), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M116 134H134V173H159V134H177V192H159V190H134V192H116V134Z\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"mask\", {\n        id: \"path-7-inside-1\",\n        fill: \"white\"\n      }, s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M119 68C119 56.9543 127.954 48 139 48H155C166.046 48 175 56.9543 175 68V90H178C180.761 90 183 92.2386 183 95V97C183 99.7614 180.761 102 178 102H175C175 113.046 166.046 122 155 122H147H139C127.954 122 119 113.046 119 102H116C113.239 102 111 99.7614 111 97V95C111 92.2386 113.239 90 116 90H119V68Z\"\n      })), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M119 68C119 56.9543 127.954 48 139 48H155C166.046 48 175 56.9543 175 68V90H178C180.761 90 183 92.2386 183 95V97C183 99.7614 180.761 102 178 102H175C175 113.046 166.046 122 155 122H147H139C127.954 122 119 113.046 119 102H116C113.239 102 111 99.7614 111 97V95C111 92.2386 113.239 90 116 90H119V68Z\",\n        fill: \"white\"\n      }), s.jsx(\"path\", {\n        d: \"M175 90H173V92H175V90ZM175 102V100H173V102H175ZM119 102H121V100H119V102ZM119 90V92H121V90H119ZM139 46C126.85 46 117 55.8497 117 68H121C121 58.0589 129.059 50 139 50V46ZM155 46H139V50H155V46ZM177 68C177 55.8497 167.15 46 155 46V50C164.941 50 173 58.0589 173 68H177ZM177 90V68H173V90H177ZM178 88H175V92H178V88ZM185 95C185 91.134 181.866 88 178 88V92C179.657 92 181 93.3431 181 95H185ZM185 97V95H181V97H185ZM178 104C181.866 104 185 100.866 185 97H181C181 98.6569 179.657 100 178 100V104ZM175 104H178V100H175V104ZM155 124C167.15 124 177 114.15 177 102H173C173 111.941 164.941 120 155 120V124ZM147 124H155V120H147V124ZM139 124H147V120H139V124ZM117 102C117 114.15 126.85 124 139 124V120C129.059 120 121 111.941 121 102H117ZM116 104H119V100H116V104ZM109 97C109 100.866 112.134 104 116 104V100C114.343 100 113 98.6569 113 97H109ZM109 95V97H113V95H109ZM116 88C112.134 88 109 91.134 109 95H113C113 93.3431 114.343 92 116 92V88ZM119 88H116V92H119V88ZM117 68V90H121V68H117Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-7-inside-1)\"\n      }), s.jsx(\"path\", {\n        d: \"M120 100H174V110C174 117.732 167.732 124 160 124H134C126.268 124 120 117.732 120 110V100Z\",\n        fill: \"#A2CFF4\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), s.jsx(\"mask\", {\n        id: \"path-10-inside-2\",\n        fill: \"white\"\n      }, s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M137 107C137.305 111.517 141.666 115.1 147 115.1C152.334 115.1 156.695 111.517 157 107H137Z\"\n      })), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M137 107C137.305 111.517 141.666 115.1 147 115.1C152.334 115.1 156.695 111.517 157 107H137Z\",\n        fill: \"white\"\n      }), s.jsx(\"path\", {\n        d: \"M137 107V105C136.446 105 135.917 105.23 135.539 105.634C135.161 106.039 134.967 106.582 135.005 107.135L137 107ZM157 107L158.995 107.135C159.033 106.582 158.839 106.039 158.461 105.634C158.083 105.23 157.554 105 157 105V107ZM147 113.1C142.458 113.1 139.214 110.092 138.995 106.865L135.005 107.135C135.397 112.943 140.873 117.1 147 117.1V113.1ZM155.004 106.865C154.786 110.092 151.542 113.1 147 113.1V117.1C153.126 117.1 158.603 112.943 158.995 107.135L155.004 106.865ZM157 105H137V109H157V105Z\",\n        fill: \"white\",\n        mask: \"url(#path-10-inside-2)\"\n      }), s.jsx(\"circle\", {\n        cx: \"136\",\n        cy: \"92\",\n        r: \"4\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"circle\", {\n        cx: \"158\",\n        cy: \"92\",\n        r: \"4\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"path\", {\n        d: \"M173 94.3193V79H179V86.3466C179 88.7525 178.133 91.0778 176.557 92.8959L174.756 94.9742C174.149 95.6737 173 95.245 173 94.3193Z\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"path\", {\n        d: \"M122 94.3193V79H116V86.3466C116 88.7525 116.867 91.0778 118.443 92.8959L120.244 94.9742C120.851 95.6737 122 95.245 122 94.3193Z\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"rect\", {\n        x: \"119\",\n        y: \"98\",\n        width: \"56\",\n        height: \"2\",\n        fill: \"white\"\n      }), s.jsx(\"rect\", {\n        x: \"121\",\n        y: \"100\",\n        width: \"52\",\n        height: \"2\",\n        fill: \"#A2CFF4\"\n      }), s.jsx(\"mask\", {\n        id: \"path-18-inside-3\",\n        fill: \"white\"\n      }, s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M147.5 38C129.551 38 115 52.5507 115 70.5V75.5C115 76.3412 115.032 77.1749 115.095 78H179.905C179.968 77.1749 180 76.3412 180 75.5V70.5C180 52.5507 165.449 38 147.5 38Z\"\n      })), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M147.5 38C129.551 38 115 52.5507 115 70.5V75.5C115 76.3412 115.032 77.1749 115.095 78H179.905C179.968 77.1749 180 76.3412 180 75.5V70.5C180 52.5507 165.449 38 147.5 38Z\",\n        fill: \"#A2CFF4\"\n      }), s.jsx(\"path\", {\n        d: \"M115.095 78L113.1 78.1517L113.241 80H115.095V78ZM179.905 78V80H181.759L181.9 78.1517L179.905 78ZM117 70.5C117 53.6553 130.655 40 147.5 40V36C128.446 36 113 51.4462 113 70.5H117ZM117 75.5V70.5H113V75.5H117ZM117.089 77.8483C117.03 77.0736 117 76.2905 117 75.5H113C113 76.3919 113.034 77.2762 113.1 78.1517L117.089 77.8483ZM115.095 80H179.905V76H115.095V80ZM178 75.5C178 76.2905 177.97 77.0736 177.911 77.8483L181.9 78.1517C181.966 77.2762 182 76.3919 182 75.5H178ZM178 70.5V75.5H182V70.5H178ZM147.5 40C164.345 40 178 53.6553 178 70.5H182C182 51.4462 166.554 36 147.5 36V40Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-18-inside-3)\"\n      }), s.jsx(\"rect\", {\n        x: \"141\",\n        y: \"36\",\n        width: \"13\",\n        height: \"40\",\n        rx: \"1\",\n        fill: \"#A2CFF4\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), s.jsx(\"path\", {\n        d: \"M142 37H142.667L143 76H142V37Z\",\n        fill: \"#F6FFFF\"\n      }), s.jsx(\"path\", {\n        d: \"M148.429 85C134.659 85 120.257 81.2381 115 79.3333V76H180V79.3333C175.061 81.873 161.811 85 148.429 85Z\",\n        fill: \"#A2CFF4\"\n      }), s.jsx(\"path\", {\n        d: \"M115 79.3333H114C114 79.7543 114.264 80.1301 114.659 80.2735L115 79.3333ZM180 79.3333L180.457 80.2226C180.791 80.0513 181 79.708 181 79.3333H180ZM115 76V75C114.448 75 114 75.4477 114 76H115ZM180 76H181C181 75.4477 180.552 75 180 75V76ZM114.659 80.2735C119.998 82.2077 134.516 86 148.429 86V84C134.801 84 120.517 80.2685 115.341 78.3931L114.659 80.2735ZM148.429 86C155.193 86 161.916 85.2102 167.573 84.1003C173.208 82.9949 177.863 81.5566 180.457 80.2226L179.543 78.444C177.198 79.6497 172.759 81.0448 167.188 82.1378C161.64 83.2263 155.046 84 148.429 84V86ZM116 79.3333V76H114V79.3333H116ZM115 77H180V75H115V77ZM179 76V79.3333H181V76H179Z\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M17.0001 191C15.3433 191 14.0001 192.343 14.0001 194C14.0001 195.657 15.3433 197 17.0001 197H23.0001C24.657 197 26.0001 195.657 26.0001 194C26.0001 192.343 24.657 191 23.0001 191H17.0001ZM34.0001 194C34.0001 192.343 35.3433 191 37.0001 191H54.0001C55.657 191 57.0001 192.343 57.0001 194C57.0001 195.657 55.657 197 54.0001 197H37.0001C35.3433 197 34.0001 195.657 34.0001 194ZM65.0001 194C65.0001 192.343 66.3433 191 68.0001 191H225C226.657 191 228 192.343 228 194C228 195.657 226.657 197 225 197H68.0001C66.3433 197 65.0001 195.657 65.0001 194ZM236 194C236 192.343 237.343 191 239 191H256C257.657 191 259 192.343 259 194C259 195.657 257.657 197 256 197H239C237.343 197 236 195.657 236 194ZM270 191C268.343 191 267 192.343 267 194C267 195.657 268.343 197 270 197H276C277.657 197 279 195.657 279 194C279 192.343 277.657 191 276 191H270Z\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"mask\", {\n        id: \"path-25-inside-4\",\n        fill: \"white\"\n      }, s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M27.0569 11.004C27.0569 9.23135 24.9215 8.33493 23.6562 9.57638L0.603336 32.1943C-0.675102 33.4486 0.213011 35.6219 2.00402 35.6219H25.0569C26.1615 35.6219 27.0569 34.7265 27.0569 33.6219V11.004ZM2.00402 33.6219L25.0569 11.004V20.6219H19.5569V22.6219H25.0569V24.6219H21.5569V26.6219H25.0569V28.6219H19.5569V30.6219H25.0569V33.6219H2.00402Z\"\n      })), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M27.0569 11.004C27.0569 9.23135 24.9215 8.33493 23.6562 9.57638L0.603336 32.1943C-0.675102 33.4486 0.213011 35.6219 2.00402 35.6219H25.0569C26.1615 35.6219 27.0569 34.7265 27.0569 33.6219V11.004ZM2.00402 33.6219L25.0569 11.004V20.6219H19.5569V22.6219H25.0569V24.6219H21.5569V26.6219H25.0569V28.6219H19.5569V30.6219H25.0569V33.6219H2.00402Z\",\n        fill: \"#C4C4C4\"\n      }), s.jsx(\"path\", {\n        d: \"M23.6562 9.57638L24.3566 10.2902V10.2902L23.6562 9.57638ZM0.603336 32.1943L1.30368 32.9081L0.603336 32.1943ZM25.0569 11.004H26.0569V8.62193L24.3566 10.2902L25.0569 11.004ZM2.00402 33.6219L1.30368 32.9081L-0.44309 34.6219H2.00402V33.6219ZM25.0569 20.6219V21.6219H26.0569V20.6219H25.0569ZM19.5569 20.6219V19.6219H18.5569V20.6219H19.5569ZM19.5569 22.6219H18.5569V23.6219H19.5569V22.6219ZM25.0569 22.6219H26.0569V21.6219H25.0569V22.6219ZM25.0569 24.6219V25.6219H26.0569V24.6219H25.0569ZM21.5569 24.6219V23.6219H20.5569V24.6219H21.5569ZM21.5569 26.6219H20.5569V27.6219H21.5569V26.6219ZM25.0569 26.6219H26.0569V25.6219H25.0569V26.6219ZM25.0569 28.6219V29.6219H26.0569V28.6219H25.0569ZM19.5569 28.6219V27.6219H18.5569V28.6219H19.5569ZM19.5569 30.6219H18.5569V31.6219H19.5569V30.6219ZM25.0569 30.6219H26.0569V29.6219H25.0569V30.6219ZM25.0569 33.6219V34.6219H26.0569V33.6219H25.0569ZM24.3566 10.2902C24.9892 9.66946 26.0569 10.1177 26.0569 11.004H28.0569C28.0569 8.34502 24.8539 7.0004 22.9559 8.86257L24.3566 10.2902ZM1.30368 32.9081L24.3566 10.2902L22.9559 8.86257L-0.0970048 31.4805L1.30368 32.9081ZM2.00402 34.6219C1.10851 34.6219 0.664458 33.5353 1.30368 32.9081L-0.0970048 31.4805C-2.01466 33.362 -0.682491 36.6219 2.00402 36.6219V34.6219ZM25.0569 34.6219H2.00402V36.6219H25.0569V34.6219ZM26.0569 33.6219C26.0569 34.1742 25.6092 34.6219 25.0569 34.6219V36.6219C26.7138 36.6219 28.0569 35.2788 28.0569 33.6219H26.0569ZM26.0569 11.004V33.6219H28.0569V11.004H26.0569ZM24.3566 10.2902L1.30368 32.9081L2.70436 34.3357L25.7572 11.7178L24.3566 10.2902ZM26.0569 20.6219V11.004H24.0569V20.6219H26.0569ZM19.5569 21.6219H25.0569V19.6219H19.5569V21.6219ZM20.5569 22.6219V20.6219H18.5569V22.6219H20.5569ZM25.0569 21.6219H19.5569V23.6219H25.0569V21.6219ZM26.0569 24.6219V22.6219H24.0569V24.6219H26.0569ZM21.5569 25.6219H25.0569V23.6219H21.5569V25.6219ZM22.5569 26.6219V24.6219H20.5569V26.6219H22.5569ZM25.0569 25.6219H21.5569V27.6219H25.0569V25.6219ZM26.0569 28.6219V26.6219H24.0569V28.6219H26.0569ZM19.5569 29.6219H25.0569V27.6219H19.5569V29.6219ZM20.5569 30.6219V28.6219H18.5569V30.6219H20.5569ZM25.0569 29.6219H19.5569V31.6219H25.0569V29.6219ZM26.0569 33.6219V30.6219H24.0569V33.6219H26.0569ZM2.00402 34.6219H25.0569V32.6219H2.00402V34.6219Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-25-inside-4)\"\n      }), s.jsx(\"mask\", {\n        id: \"path-27-inside-5\",\n        fill: \"white\"\n      }, s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M30 12C30 10.3431 31.3431 9 33 9H37C38.6569 9 40 10.3431 40 12V30.6492C40 31.1034 39.8454 31.544 39.5617 31.8986L35.937 36.4295C35.4567 37.03 34.5433 37.03 34.063 36.4295L30.4383 31.8986C30.1546 31.544 30 31.1034 30 30.6492V12ZM33 11C32.4477 11 32 11.4477 32 12V15H38V12C38 11.4477 37.5523 11 37 11H33ZM32 29V17H38V29H32ZM32.2806 31L35 34.3992L37.7194 31H32.2806Z\"\n      })), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M30 12C30 10.3431 31.3431 9 33 9H37C38.6569 9 40 10.3431 40 12V30.6492C40 31.1034 39.8454 31.544 39.5617 31.8986L35.937 36.4295C35.4567 37.03 34.5433 37.03 34.063 36.4295L30.4383 31.8986C30.1546 31.544 30 31.1034 30 30.6492V12ZM33 11C32.4477 11 32 11.4477 32 12V15H38V12C38 11.4477 37.5523 11 37 11H33ZM32 29V17H38V29H32ZM32.2806 31L35 34.3992L37.7194 31H32.2806Z\",\n        fill: \"#C4C4C4\"\n      }), s.jsx(\"path\", {\n        d: \"M39.5617 31.8986L40.3426 32.5233H40.3426L39.5617 31.8986ZM35.937 36.4295L36.7179 37.0542H36.7179L35.937 36.4295ZM34.063 36.4295L33.2821 37.0542L34.063 36.4295ZM30.4383 31.8986L31.2191 31.2739H31.2191L30.4383 31.8986ZM32 15H31V16H32V15ZM38 15V16H39V15H38ZM32 17V16H31V17H32ZM32 29H31V30H32V29ZM38 17H39V16H38V17ZM38 29V30H39V29H38ZM32.2806 31V30H30.2L31.4998 31.6247L32.2806 31ZM35 34.3992L34.2191 35.0239L35 36L35.7809 35.0239L35 34.3992ZM37.7194 31L38.5002 31.6247L39.8 30H37.7194V31ZM33 8C30.7909 8 29 9.79086 29 12H31C31 10.8954 31.8954 10 33 10V8ZM37 8H33V10H37V8ZM41 12C41 9.79086 39.2091 8 37 8V10C38.1046 10 39 10.8954 39 12H41ZM41 30.6492V12H39V30.6492H41ZM40.3426 32.5233C40.7682 31.9914 41 31.3304 41 30.6492H39C39 30.8763 38.9227 31.0966 38.7809 31.2739L40.3426 32.5233ZM36.7179 37.0542L40.3426 32.5233L38.7809 31.2739L35.1562 35.8048L36.7179 37.0542ZM33.2821 37.0542C34.1628 38.1551 35.8372 38.1551 36.7179 37.0542L35.1562 35.8048C35.0761 35.9049 34.9239 35.9049 34.8438 35.8048L33.2821 37.0542ZM29.6574 32.5233L33.2821 37.0542L34.8438 35.8048L31.2191 31.2739L29.6574 32.5233ZM29 30.6492C29 31.3304 29.2318 31.9914 29.6574 32.5233L31.2191 31.2739C31.0773 31.0966 31 30.8763 31 30.6492H29ZM29 12V30.6492H31V12H29ZM33 12V10C31.8954 10 31 10.8954 31 12H33ZM33 15V12H31V15H33ZM38 14H32V16H38V14ZM37 12V15H39V12H37ZM37 12H39C39 10.8954 38.1046 10 37 10V12ZM33 12H37V10H33V12ZM31 17V29H33V17H31ZM38 16H32V18H38V16ZM39 29V17H37V29H39ZM32 30H38V28H32V30ZM31.4998 31.6247L34.2191 35.0239L35.7809 33.7745L33.0615 30.3753L31.4998 31.6247ZM35.7809 35.0239L38.5002 31.6247L36.9385 30.3753L34.2191 33.7745L35.7809 35.0239ZM37.7194 30H32.2806V32H37.7194V30Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-27-inside-5)\"\n      }), s.jsx(\"mask\", {\n        id: \"path-29-inside-6\",\n        fill: \"white\"\n      }, s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M47.7183 137C47.166 137 46.7183 137.448 46.7183 138V139C46.7183 139.033 46.72 139.066 46.7232 139.099C44.4385 139.56 42.7183 141.579 42.7183 144C42.7183 145.744 43.6117 147.28 44.9659 148.175L40.0606 161.652C39.8717 162.171 40.1393 162.745 40.6583 162.934C41.1772 163.123 41.7511 162.855 41.94 162.336L46.823 148.92C47.1135 148.973 47.4127 149 47.7183 149C48.2066 149 48.6784 148.93 49.1245 148.8L54.0514 162.336C54.2403 162.855 54.8141 163.123 55.3331 162.934C55.8521 162.745 56.1197 162.171 55.9308 161.652L50.9397 147.939C50.9291 147.91 50.9172 147.881 50.9041 147.854C52.0123 146.937 52.7183 145.551 52.7183 144C52.7183 141.579 50.9981 139.56 48.7135 139.099C48.7167 139.066 48.7183 139.033 48.7183 139V138C48.7183 137.448 48.2706 137 47.7183 137ZM50.7183 144C50.7183 145.657 49.3752 147 47.7183 147C46.0615 147 44.7183 145.657 44.7183 144C44.7183 142.343 46.0615 141 47.7183 141C49.3752 141 50.7183 142.343 50.7183 144Z\"\n      })), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M47.7183 137C47.166 137 46.7183 137.448 46.7183 138V139C46.7183 139.033 46.72 139.066 46.7232 139.099C44.4385 139.56 42.7183 141.579 42.7183 144C42.7183 145.744 43.6117 147.28 44.9659 148.175L40.0606 161.652C39.8717 162.171 40.1393 162.745 40.6583 162.934C41.1772 163.123 41.7511 162.855 41.94 162.336L46.823 148.92C47.1135 148.973 47.4127 149 47.7183 149C48.2066 149 48.6784 148.93 49.1245 148.8L54.0514 162.336C54.2403 162.855 54.8141 163.123 55.3331 162.934C55.8521 162.745 56.1197 162.171 55.9308 161.652L50.9397 147.939C50.9291 147.91 50.9172 147.881 50.9041 147.854C52.0123 146.937 52.7183 145.551 52.7183 144C52.7183 141.579 50.9981 139.56 48.7135 139.099C48.7167 139.066 48.7183 139.033 48.7183 139V138C48.7183 137.448 48.2706 137 47.7183 137ZM50.7183 144C50.7183 145.657 49.3752 147 47.7183 147C46.0615 147 44.7183 145.657 44.7183 144C44.7183 142.343 46.0615 141 47.7183 141C49.3752 141 50.7183 142.343 50.7183 144Z\",\n        fill: \"#C4C4C4\"\n      }), s.jsx(\"path\", {\n        d: \"M46.7232 139.099L46.9211 140.079L47.8068 139.9L47.7184 139.001L46.7232 139.099ZM44.9659 148.175L45.9055 148.517L46.1754 147.775L45.5171 147.34L44.9659 148.175ZM40.0606 161.652L39.1209 161.31H39.1209L40.0606 161.652ZM40.6583 162.934L40.3162 163.873H40.3162L40.6583 162.934ZM41.94 162.336L41.0003 161.994L41.94 162.336ZM46.823 148.92L47.0009 147.936L46.1715 147.786L45.8833 148.578L46.823 148.92ZM49.1245 148.8L50.0642 148.458L49.7436 147.577L48.8438 147.84L49.1245 148.8ZM54.0514 162.336L54.9911 161.994L54.0514 162.336ZM55.3331 162.934L54.9911 161.994L55.3331 162.934ZM55.9308 161.652L56.8705 161.31L55.9308 161.652ZM50.9397 147.939L51.8794 147.597L51.8794 147.597L50.9397 147.939ZM50.9041 147.854L50.2666 147.083L49.6687 147.578L49.9996 148.28L50.9041 147.854ZM48.7135 139.099L47.7183 139.001L47.6299 139.9L48.5155 140.079L48.7135 139.099ZM47.7183 138V138V136C46.6138 136 45.7183 136.895 45.7183 138H47.7183ZM47.7183 139V138H45.7183V139H47.7183ZM47.7184 139.001C47.7184 139.001 47.7183 139.001 47.7183 139H45.7183C45.7183 139.066 45.7216 139.132 45.728 139.197L47.7184 139.001ZM43.7183 144C43.7183 142.065 45.0938 140.448 46.9211 140.079L46.5252 138.119C43.7832 138.673 41.7183 141.094 41.7183 144H43.7183ZM45.5171 147.34C44.4312 146.623 43.7183 145.395 43.7183 144H41.7183C41.7183 146.094 42.7922 147.937 44.4146 149.009L45.5171 147.34ZM44.0262 147.833L39.1209 161.31L41.0003 161.994L45.9055 148.517L44.0262 147.833ZM39.1209 161.31C38.7431 162.348 39.2783 163.496 40.3162 163.873L41.0003 161.994L41.0003 161.994L39.1209 161.31ZM40.3162 163.873C41.3542 164.251 42.5019 163.716 42.8797 162.678L41.0003 161.994H41.0003L40.3162 163.873ZM42.8797 162.678L47.7627 149.262L45.8833 148.578L41.0003 161.994L42.8797 162.678ZM47.7183 148C47.4726 148 47.2329 147.978 47.0009 147.936L46.6451 149.904C46.994 149.967 47.3528 150 47.7183 150V148ZM48.8438 147.84C48.488 147.944 48.1106 148 47.7183 148V150C48.3025 150 48.8689 149.916 49.4052 149.759L48.8438 147.84ZM54.9911 161.994L50.0642 148.458L48.1848 149.142L53.1117 162.678L54.9911 161.994ZM54.9911 161.994L53.1117 162.678C53.4895 163.716 54.6372 164.251 55.6751 163.873L54.9911 161.994ZM54.9911 161.994V161.994L55.6751 163.873C56.7131 163.496 57.2482 162.348 56.8705 161.31L54.9911 161.994ZM50 148.281L54.9911 161.994L56.8705 161.31L51.8794 147.597L50 148.281ZM49.9996 148.28C49.9997 148.28 49.9999 148.281 50 148.281L51.8794 147.597C51.8583 147.539 51.8347 147.483 51.8087 147.427L49.9996 148.28ZM51.7183 144C51.7183 145.24 51.155 146.348 50.2666 147.083L51.5417 148.624C52.8696 147.525 53.7183 145.861 53.7183 144H51.7183ZM48.5155 140.079C50.3428 140.448 51.7183 142.065 51.7183 144H53.7183C53.7183 141.094 51.6535 138.673 48.9114 138.119L48.5155 140.079ZM47.7183 139C47.7183 139.001 47.7183 139.001 47.7183 139.001L49.7087 139.197C49.7151 139.132 49.7183 139.066 49.7183 139H47.7183ZM47.7183 138V139H49.7183V138H47.7183ZM47.7183 138H49.7183C49.7183 136.895 48.8229 136 47.7183 136V138ZM47.7183 148C49.9275 148 51.7183 146.209 51.7183 144H49.7183C49.7183 145.105 48.8229 146 47.7183 146V148ZM43.7183 144C43.7183 146.209 45.5092 148 47.7183 148V146C46.6138 146 45.7183 145.105 45.7183 144H43.7183ZM47.7183 140C45.5092 140 43.7183 141.791 43.7183 144H45.7183C45.7183 142.895 46.6138 142 47.7183 142V140ZM51.7183 144C51.7183 141.791 49.9275 140 47.7183 140V142C48.8229 142 49.7183 142.895 49.7183 144H51.7183Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-29-inside-6)\"\n      }), s.jsx(\"path\", {\n        d: \"M3.92938 94.3448L9.51226 90.2422L10.2738 97.1284L3.92938 94.3448Z\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), s.jsx(\"path\", {\n        d: \"M217.121 91.2948L221.466 85.8988L223.967 92.3601L217.121 91.2948Z\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), s.jsx(\"mask\", {\n        id: \"path-33-inside-7\",\n        fill: \"white\"\n      }, s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M221 11C221 15.9706 216.971 20 212 20C207.029 20 203 15.9706 203 11C203 6.02944 207.029 2 212 2C216.971 2 221 6.02944 221 11ZM219.531 19.0179C217.563 20.8671 214.914 22 212 22C205.925 22 201 17.0751 201 11C201 4.92487 205.925 0 212 0C218.075 0 223 4.92487 223 11C223 13.4647 222.189 15.74 220.82 17.574C220.911 17.6203 220.995 17.6813 221.071 17.7569L225.776 22.4624C226.167 22.853 226.167 23.4861 225.776 23.8766C225.386 24.2672 224.753 24.2672 224.362 23.8766L219.657 19.1711C219.609 19.1234 219.567 19.072 219.531 19.0179Z\"\n      })), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M221 11C221 15.9706 216.971 20 212 20C207.029 20 203 15.9706 203 11C203 6.02944 207.029 2 212 2C216.971 2 221 6.02944 221 11ZM219.531 19.0179C217.563 20.8671 214.914 22 212 22C205.925 22 201 17.0751 201 11C201 4.92487 205.925 0 212 0C218.075 0 223 4.92487 223 11C223 13.4647 222.189 15.74 220.82 17.574C220.911 17.6203 220.995 17.6813 221.071 17.7569L225.776 22.4624C226.167 22.853 226.167 23.4861 225.776 23.8766C225.386 24.2672 224.753 24.2672 224.362 23.8766L219.657 19.1711C219.609 19.1234 219.567 19.072 219.531 19.0179Z\",\n        fill: \"#C4C4C4\"\n      }), s.jsx(\"path\", {\n        d: \"M219.531 19.0179L220.363 18.4632L219.707 17.4797L218.846 18.2891L219.531 19.0179ZM220.82 17.574L220.019 16.9758L219.311 17.9236L220.364 18.4637L220.82 17.574ZM212 21C217.523 21 222 16.5228 222 11H220C220 15.4183 216.418 19 212 19V21ZM202 11C202 16.5228 206.477 21 212 21V19C207.582 19 204 15.4183 204 11H202ZM212 1C206.477 1 202 5.47715 202 11H204C204 6.58172 207.582 3 212 3V1ZM222 11C222 5.47715 217.523 1 212 1V3C216.418 3 220 6.58172 220 11H222ZM212 23C215.178 23 218.07 21.7632 220.216 19.7466L218.846 18.2891C217.056 19.9711 214.649 21 212 21V23ZM200 11C200 17.6274 205.373 23 212 23V21C206.477 21 202 16.5228 202 11H200ZM212 -1C205.373 -1 200 4.37258 200 11H202C202 5.47715 206.477 1 212 1V-1ZM224 11C224 4.37258 218.627 -1 212 -1V1C217.523 1 222 5.47715 222 11H224ZM221.622 18.1722C223.115 16.1714 224 13.6876 224 11H222C222 13.2418 221.264 15.3086 220.019 16.9758L221.622 18.1722ZM220.364 18.4637L220.364 18.464L221.778 17.0498C221.628 16.8998 221.458 16.7775 221.277 16.6843L220.364 18.4637ZM220.364 18.464L225.069 23.1695L226.484 21.7553L221.778 17.0498L220.364 18.464ZM225.069 23.1695L226.484 24.5838C227.265 23.8027 227.265 22.5364 226.484 21.7553L225.069 23.1695ZM225.069 23.1695H225.069L223.655 24.5838C224.436 25.3648 225.702 25.3648 226.484 24.5838L225.069 23.1695ZM225.069 23.1695L220.364 18.464L218.95 19.8782L223.655 24.5838L225.069 23.1695ZM220.364 18.464C220.363 18.4631 220.363 18.4629 220.363 18.4632L218.699 19.5725C218.771 19.6811 218.855 19.7836 218.95 19.8782L220.364 18.464Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-33-inside-7)\"\n      }), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M256 139H254.465C254.805 139.588 255 140.271 255 141V161C255 161.729 254.805 162.412 254.465 163H256C257.105 163 258 162.105 258 161V141C258 139.895 257.105 139 256 139ZM238 139H251C252.105 139 253 139.895 253 141V161C253 162.105 252.105 163 251 163H238C236.895 163 236 162.105 236 161V141C236 139.895 236.895 139 238 139ZM256 137H251H238C235.791 137 234 138.791 234 141V161C234 163.209 235.791 165 238 165H251H256C258.209 165 260 163.209 260 161V141C260 138.791 258.209 137 256 137ZM239.5 147C240.328 147 241 146.328 241 145.5C241 144.672 240.328 144 239.5 144C238.672 144 238 144.672 238 145.5C238 146.328 238.672 147 239.5 147ZM241 150.5C241 151.328 240.328 152 239.5 152C238.672 152 238 151.328 238 150.5C238 149.672 238.672 149 239.5 149C240.328 149 241 149.672 241 150.5ZM239.5 157C240.328 157 241 156.328 241 155.5C241 154.672 240.328 154 239.5 154C238.672 154 238 154.672 238 155.5C238 156.328 238.672 157 239.5 157Z\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"circle\", {\n        cx: \"283\",\n        cy: \"122\",\n        r: \"3\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), s.jsx(\"circle\", {\n        cx: \"99\",\n        cy: \"9\",\n        r: \"3\",\n        stroke: \"#2F97FF\",\n        strokeWidth: \"2\"\n      }), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M69 75C69 75.5523 69.4477 76 70 76C70.5523 76 71 75.5523 71 75V73H73C73.5523 73 74 72.5523 74 72C74 71.4477 73.5523 71 73 71H71V69C71 68.4477 70.5523 68 70 68C69.4477 68 69 68.4477 69 69V71H67C66.4477 71 66 71.4477 66 72C66 72.5523 66.4477 73 67 73H69V75Z\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M263 12C263 12.5523 263.448 13 264 13C264.552 13 265 12.5523 265 12V10H267C267.552 10 268 9.55228 268 9C268 8.44772 267.552 8 267 8H265V6C265 5.44772 264.552 5 264 5C263.448 5 263 5.44772 263 6V8H261C260.448 8 260 8.44772 260 9C260 9.55228 260.448 10 261 10H263V12Z\",\n        fill: \"#2F97FF\"\n      }), s.jsx(\"mask\", {\n        id: \"path-40-inside-8\",\n        fill: \"white\"\n      }, s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M261.464 68.7321L268.392 64.7321C269.349 64.1798 270.572 64.5075 271.124 65.4641L272.624 68.0622L262.232 74.0622L260.732 71.4641C260.18 70.5075 260.508 69.2843 261.464 68.7321ZM261.5 76.7942L260.5 75.0622L259 72.4641C257.895 70.5509 258.551 68.1046 260.464 67L267.392 63C269.305 61.8954 271.752 62.5509 272.856 64.4641L280.856 78.3205C281.961 80.2337 281.305 82.68 279.392 83.7846L272.464 87.7846C270.551 88.8892 268.105 88.2337 267 86.3205L261.5 76.7942ZM263.232 75.7942L273.624 69.7942L279.124 79.3205C279.677 80.2771 279.349 81.5003 278.392 82.0526L271.464 86.0526C270.508 86.6048 269.284 86.2771 268.732 85.3205L263.232 75.7942Z\"\n      })), s.jsx(\"path\", {\n        fillRule: \"evenodd\",\n        clipRule: \"evenodd\",\n        d: \"M261.464 68.7321L268.392 64.7321C269.349 64.1798 270.572 64.5075 271.124 65.4641L272.624 68.0622L262.232 74.0622L260.732 71.4641C260.18 70.5075 260.508 69.2843 261.464 68.7321ZM261.5 76.7942L260.5 75.0622L259 72.4641C257.895 70.5509 258.551 68.1046 260.464 67L267.392 63C269.305 61.8954 271.752 62.5509 272.856 64.4641L280.856 78.3205C281.961 80.2337 281.305 82.68 279.392 83.7846L272.464 87.7846C270.551 88.8892 268.105 88.2337 267 86.3205L261.5 76.7942ZM263.232 75.7942L273.624 69.7942L279.124 79.3205C279.677 80.2771 279.349 81.5003 278.392 82.0526L271.464 86.0526C270.508 86.6048 269.284 86.2771 268.732 85.3205L263.232 75.7942Z\",\n        fill: \"#C4C4C4\"\n      }), s.jsx(\"path\", {\n        d: \"M268.392 64.7321L267.892 63.866L268.392 64.7321ZM261.464 68.7321L261.964 69.5981L261.464 68.7321ZM272.624 68.0622L273.124 68.9282L273.99 68.4282L273.49 67.5622L272.624 68.0622ZM262.232 74.0622L261.366 74.5622L261.866 75.4282L262.732 74.9282L262.232 74.0622ZM261.5 76.7942L260.634 77.2942L261.5 76.7942ZM260.464 67L259.964 66.134L260.464 67ZM267.392 63L267.892 63.866L267.392 63ZM272.856 64.4641L273.722 63.9641L272.856 64.4641ZM280.856 78.3205L279.99 78.8205L280.856 78.3205ZM279.392 83.7846L278.892 82.9186L279.392 83.7846ZM272.464 87.7846L272.964 88.6506L272.464 87.7846ZM267 86.3205L267.866 85.8205L267 86.3205ZM273.624 69.7942L274.49 69.2942L273.99 68.4282L273.124 68.9282L273.624 69.7942ZM263.232 75.7942L262.732 74.9282L261.866 75.4282L262.366 76.2942L263.232 75.7942ZM279.124 79.3205L279.99 78.8205L279.124 79.3205ZM268.732 85.3205L267.866 85.8205L268.732 85.3205ZM267.892 63.866L260.964 67.866L261.964 69.5981L268.892 65.5981L267.892 63.866ZM271.99 64.9641C271.162 63.5292 269.327 63.0376 267.892 63.866L268.892 65.5981C269.371 65.3219 269.982 65.4858 270.258 65.9641L271.99 64.9641ZM273.49 67.5622L271.99 64.9641L270.258 65.9641L271.758 68.5622L273.49 67.5622ZM262.732 74.9282L273.124 68.9282L272.124 67.1962L261.732 73.1962L262.732 74.9282ZM259.866 71.9641L261.366 74.5622L263.098 73.5622L261.598 70.9641L259.866 71.9641ZM260.964 67.866C259.529 68.6945 259.038 70.5292 259.866 71.9641L261.598 70.9641C261.322 70.4858 261.486 69.8742 261.964 69.5981L260.964 67.866ZM262.366 76.2942L261.366 74.5622L259.634 75.5622L260.634 77.2942L262.366 76.2942ZM258.134 72.9641L259.634 75.5622L261.366 74.5622L259.866 71.9641L258.134 72.9641ZM259.964 66.134C257.573 67.5147 256.753 70.5726 258.134 72.9641L259.866 71.9641C259.038 70.5292 259.529 68.6945 260.964 67.866L259.964 66.134ZM266.892 62.134L259.964 66.134L260.964 67.866L267.892 63.866L266.892 62.134ZM273.722 63.9641C272.342 61.5726 269.284 60.7533 266.892 62.134L267.892 63.866C269.327 63.0376 271.162 63.5292 271.99 64.9641L273.722 63.9641ZM281.722 77.8205L273.722 63.9641L271.99 64.9641L279.99 78.8205L281.722 77.8205ZM279.892 84.6506C282.284 83.2699 283.103 80.212 281.722 77.8205L279.99 78.8205C280.819 80.2554 280.327 82.0902 278.892 82.9186L279.892 84.6506ZM272.964 88.6506L279.892 84.6506L278.892 82.9186L271.964 86.9186L272.964 88.6506ZM266.134 86.8205C267.515 89.212 270.573 90.0313 272.964 88.6506L271.964 86.9186C270.529 87.747 268.694 87.2554 267.866 85.8205L266.134 86.8205ZM260.634 77.2942L266.134 86.8205L267.866 85.8205L262.366 76.2942L260.634 77.2942ZM273.124 68.9282L262.732 74.9282L263.732 76.6603L274.124 70.6603L273.124 68.9282ZM279.99 78.8205L274.49 69.2942L272.758 70.2942L278.258 79.8205L279.99 78.8205ZM278.892 82.9186C280.327 82.0902 280.819 80.2554 279.99 78.8205L278.258 79.8205C278.534 80.2988 278.371 80.9104 277.892 81.1865L278.892 82.9186ZM271.964 86.9186L278.892 82.9186L277.892 81.1865L270.964 85.1865L271.964 86.9186ZM267.866 85.8205C268.694 87.2554 270.529 87.747 271.964 86.9186L270.964 85.1865C270.486 85.4627 269.874 85.2988 269.598 84.8205L267.866 85.8205ZM262.366 76.2942L267.866 85.8205L269.598 84.8205L264.098 75.2942L262.366 76.2942Z\",\n        fill: \"#2F97FF\",\n        mask: \"url(#path-40-inside-8)\"\n      }));\n    }, t.ChangeAssigneeIllustration.displayName = \"ChangeAssigneeIllustration\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        i = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var r,\n          i,\n          a = n.call(e),\n          s = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(r = a.next()).done;) {\n          s.push(r.value);\n        }\n      } catch (e) {\n        i = {\n          error: e\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    },\n        a = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var s = n(0),\n        o = n(3),\n        l = n(7),\n        u = n(1),\n        c = n(11),\n        d = a(n(4)),\n        f = n(2);\n    t.DraftView = function (e) {\n      var t = e.users,\n          n = e.focusedPuzzleId,\n          a = e.service,\n          p = e.task,\n          m = e.onChangeStageTitle,\n          C = e.onChangeStageDeadline,\n          g = e.onTaskChange,\n          x = e.regions,\n          h = e.cities,\n          j = e.addresses,\n          v = e.formats,\n          y = p.stages,\n          M = p.title,\n          L = p.notifyBefore,\n          k = p.id ? p.id.toString() : \"\",\n          H = d.default.last(y),\n          V = i(f.useState(H ? H.title : \"\"), 2),\n          b = V[0],\n          _ = V[1],\n          Z = i(f.useState(H ? d.default.isNaN(Date.parse(H.deadline)) ? \"\" : l.getFriendlyDate(new Date(H.deadline)) : \"\"), 2),\n          S = Z[0],\n          z = Z[1],\n          F = i(f.useState(M || \"\"), 2),\n          T = F[0],\n          w = F[1],\n          P = f.useRef(M),\n          R = f.useRef(H ? H.title : \"\"),\n          O = f.useRef(H ? H.deadline : \"\");\n      f.useEffect(function () {\n        M && P.current !== M && (P.current = M, w(M)), H && R.current !== H.title && (R.current = H.title, _(H.title)), H && O.current !== H.deadline && (O.current = H.deadline, z(d.default.isNaN(Date.parse(H.deadline)) ? \"\" : l.getFriendlyDate(new Date(H.deadline))));\n      }, [H, M]);\n      var E = f.useRef(d.default.cloneDeep(p)),\n          I = f.useRef(p.marketplace ? p.marketplace.region : \"\"),\n          A = f.useRef(p.marketplace ? p.marketplace.city : \"\"),\n          D = f.useRef(p.marketplace ? p.marketplace.format : \"\");\n      f.useEffect(function () {\n        if (g && !d.default.isEqual(E.current, p) && p.marketplace) {\n          var e = r({}, p),\n              t = p.marketplace.format,\n              n = p.marketplace.city,\n              i = p.marketplace.region;\n          D.current && D.current !== t && (e.marketplace.address = \"\"), A.current && A.current !== n && (e.marketplace.address = \"\", e.marketplace.format = \"\"), I.current && I.current !== i && (e.marketplace.address = \"\", e.marketplace.format = \"\", e.marketplace.city = \"\"), E.current = d.default.cloneDeep(e), I.current = i, A.current = n, D.current = t, g(e);\n        }\n      }, [g, p]);\n      var G = f.useCallback(function () {\n        H && (m && m(H.id, b), C && C(H.id, S));\n      }, [H, S, b, C, m]),\n          N = f.useCallback(function () {\n        g && g(r(r({}, p), {\n          title: T\n        }));\n      }, [g, p, T]);\n      var W = f.useCallback(function (e) {\n        g && g(r(r({}, p), {\n          notifyBefore: e.target.value\n        }));\n      }, [g, p]),\n          B = f.useCallback(function (e) {\n        g && g(r(r({}, p), {\n          marketplace: r(r({}, p.marketplace), {\n            region: e.target.value\n          })\n        }));\n      }, [g, p]),\n          q = f.useCallback(function (e) {\n        g && g(r(r({}, p), {\n          marketplace: r(r({}, p.marketplace), {\n            city: e.target.value\n          })\n        }));\n      }, [g, p]),\n          U = f.useCallback(function (e) {\n        g && g(r(r({}, p), {\n          marketplace: r(r({}, p.marketplace), {\n            format: e.target.value\n          })\n        }));\n      }, [g, p]),\n          X = f.useCallback(function (e) {\n        g && g(r(r({}, p), {\n          marketplace: r(r({}, p.marketplace), {\n            address: e.target.value\n          })\n        }));\n      }, [g, p]),\n          K = f.useCallback(function (e) {\n        g && g(r(r({}, p), {\n          idAssignee: e.target.value\n        }));\n      }, [g, p]);\n      return s.jsx(o.SelectableBlockWrapper, {\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: n === k ? 1300 : \"initial\"\n          };\n        },\n        onFocus: a.onPuzzleFocus.bind(a, k, !1),\n        onMouseDown: a.onPuzzleFocus.bind(a, k, !1),\n        focused: n === k,\n        id: k\n      }, s.jsx(u.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, s.jsx(u.Grid, {\n        item: !0,\n        xs: 12\n      }, s.jsx(u.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, \"Основная информация\")), s.jsx(c.TaskFieldContainer, {\n        label: \"Название задания\"\n      }, s.jsx(o.InputField, {\n        placeholder: \"Введите название задания\",\n        value: T,\n        onChange: function onChange(e) {\n          w(e.target.value);\n        },\n        onBlur: N,\n        fullWidth: !0\n      })), s.jsx(c.TaskFieldContainer, {\n        label: \"Этап задания\"\n      }, s.jsx(u.Grid, {\n        container: !0,\n        direction: \"row\",\n        alignItems: \"flex-end\",\n        spacing: 2\n      }, s.jsx(u.Grid, {\n        item: !0,\n        xs: !0\n      }, s.jsx(o.InputField, {\n        value: b,\n        onChange: function onChange(e) {\n          _(e.target.value);\n        },\n        onBlur: G,\n        placeholder: \"Введите название этапа\",\n        fullWidth: !0\n      })), s.jsx(u.Grid, {\n        item: !0\n      }, s.jsx(o.DateField, {\n        value: S,\n        placeholder: \"Срок выполнения\",\n        onChange: function onChange(e) {\n          z(e.target.value);\n        },\n        onBlur: G\n      })))), s.jsx(c.TaskFieldContainer, {\n        label: \"Уведомить исполнителя о наступлении срока выполнения заказа\"\n      }, s.jsx(o.SelectField, {\n        onChange: W,\n        value: L || 3,\n        css: function css(e) {\n          return {\n            minWidth: e.spacing(30)\n          };\n        }\n      }, s.jsx(u.MenuItem, {\n        value: 1\n      }, \"За 1 день\"), s.jsx(u.MenuItem, {\n        value: 2\n      }, \"За 2 дня\"), s.jsx(u.MenuItem, {\n        value: 3\n      }, \"За 3 дня\"), s.jsx(u.MenuItem, {\n        value: 4\n      }, \"За 4 дня\"), s.jsx(u.MenuItem, {\n        value: 5\n      }, \"За 5 дней\"), s.jsx(u.MenuItem, {\n        value: 6\n      }, \"За 6 дней\"), s.jsx(u.MenuItem, {\n        value: 7\n      }, \"За 7 дней\"))), s.jsx(c.TaskFieldContainer, {\n        label: \"Местоположение\"\n      }, s.jsx(u.Grid, {\n        container: !0,\n        direction: \"row\",\n        alignItems: \"flex-end\",\n        spacing: 2\n      }, s.jsx(u.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(o.SelectField, {\n        value: p.marketplace ? p.marketplace.region : \"\",\n        placeholder: \"Регион\",\n        fullWidth: !0,\n        onChange: B\n      }, (x || []).map(function (e) {\n        return s.jsx(u.MenuItem, {\n          key: e,\n          value: e\n        }, e);\n      }))), p.marketplace && p.marketplace.region && s.jsx(u.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(o.SelectField, {\n        value: p.marketplace ? p.marketplace.city : \"\",\n        placeholder: \"Филиал\",\n        fullWidth: !0,\n        onChange: q\n      }, (h || []).map(function (e) {\n        return s.jsx(u.MenuItem, {\n          key: e,\n          value: e\n        }, e);\n      }))), p.marketplace && p.marketplace.city && s.jsx(u.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(o.SelectField, {\n        value: p.marketplace ? p.marketplace.format : \"\",\n        placeholder: \"Формат\",\n        fullWidth: !0,\n        onChange: U\n      }, (v || []).map(function (e) {\n        return s.jsx(u.MenuItem, {\n          key: e,\n          value: e\n        }, e);\n      }))), p.marketplace && p.marketplace.format && s.jsx(u.Grid, {\n        item: !0,\n        xs: 3\n      }, s.jsx(o.SelectField, {\n        value: p.marketplace ? p.marketplace.address : \"\",\n        placeholder: \"Адрес\",\n        fullWidth: !0,\n        onChange: X\n      }, (j || []).map(function (e) {\n        return s.jsx(u.MenuItem, {\n          key: e,\n          value: e\n        }, e);\n      }))))), s.jsx(c.TaskFieldContainer, {\n        label: \"Исполнитель\"\n      }, s.jsx(u.Grid, {\n        item: !0,\n        xs: 4\n      }, s.jsx(o.SelectField, {\n        value: p.idAssignee,\n        fullWidth: !0,\n        placeholder: \"Выберите исполнителя\",\n        onChange: K\n      }, t.map(function (e) {\n        return s.jsx(u.MenuItem, {\n          key: e.id,\n          value: e.id\n        }, e.username);\n      }))))));\n    }, t.DraftView.displayName = \"DraftView\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(3),\n        a = n(1);\n    t.InfoField = function (e) {\n      var t = e.title,\n          n = e.value,\n          s = e.editable,\n          o = e.label,\n          l = e.onEditableClick;\n      return r.jsx(a.Grid, {\n        item: !0,\n        xs: !0\n      }, r.jsx(a.Typography, {\n        css: function css(e) {\n          return {\n            color: e.colors.secondary,\n            fontSize: e.fontSize.smaller,\n            textTransform: \"uppercase\"\n          };\n        }\n      }, t), r.jsx(a.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal,\n            color: e.colors.black\n          };\n        }\n      }, n), s && r.jsx(i.ButtonLikeText, {\n        onClick: l\n      }, o));\n    }, t.InfoField.displayName = \"InfoField\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    },\n        i = this && this.__importStar || function (e) {\n      if (e && e.__esModule) return e;\n      var t = {};\n      if (null != e) for (var n in e) {\n        Object.hasOwnProperty.call(e, n) && (t[n] = e[n]);\n      }\n      return t.default = e, t;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var a = n(0),\n        s = n(3),\n        o = n(1),\n        l = n(10),\n        u = r(n(4)),\n        c = i(n(2)),\n        d = n(2),\n        f = n(51),\n        p = n(52);\n    t.TaskDocument = function (e) {\n      var t = e.focusedPuzzleId,\n          n = e.service,\n          r = e.document,\n          i = e.templates,\n          m = e.documents,\n          C = e.templateSnapshots,\n          g = e.editable,\n          x = e.pendingComments,\n          h = e.comments,\n          j = e.onEditableChange,\n          v = e.onTemplateChange,\n          y = e.onPendingCommentDelete,\n          M = e.onPendingCommentAccept,\n          L = e.onCommentDelete,\n          k = C.get(r.id.toString()),\n          H = t === r.__uuid,\n          V = i.filter(function (e) {\n        return e.id === r.id;\n      }).flatMap(function (e) {\n        return e.answers || [];\n      }),\n          b = d.useCallback(function (e, t) {\n        j && j(r.id, t);\n      }, [r.id, j]),\n          _ = d.useCallback(function (e) {\n        v && v(r.__uuid, e);\n      }, [r.__uuid, v]);\n\n      return a.jsx(s.SelectableBlockWrapper, {\n        onFocus: n.onPuzzleFocus.bind(n, r.__uuid, !1),\n        onMouseDown: n.onPuzzleFocus.bind(n, r.__uuid, !1),\n        css: function css(e) {\n          return {\n            padding: e.spacing(3),\n            zIndex: t === r.__uuid ? 1300 : \"initial\"\n          };\n        },\n        focused: H,\n        id: r.__uuid\n      }, g && r.virtual && a.jsx(o.Grid, {\n        item: !0,\n        xs: 3,\n        css: function css(e) {\n          return {\n            paddingLeft: e.spacing(3)\n          };\n        }\n      }, a.jsx(s.SelectField, {\n        placeholder: \"Выбрать шаблон\",\n        value: -1 === r.id ? \"\" : r.id,\n        fullWidth: !0,\n        onChange: _\n      }, i.filter(function (e) {\n        return r.id === e.id || !m.find(function (t) {\n          return t.id === e.id;\n        });\n      }).map(function (e) {\n        return a.jsx(o.MenuItem, {\n          key: e.id,\n          value: e.id\n        }, e.title);\n      }))), a.jsx(o.Grid, {\n        container: !0,\n        css: function css(e) {\n          return {\n            padding: \"0 \" + e.spacing(4)\n          };\n        }\n      }, a.jsx(o.Grid, {\n        item: !0,\n        xs: 9\n      }, a.jsx(o.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.xLarge\n          };\n        }\n      }, u.default.get(k, \"title\"))), a.jsx(o.Grid, {\n        item: !0,\n        xs: 3\n      }, a.jsx(o.Grid, {\n        container: !0,\n        justify: \"center\",\n        alignItems: \"flex-end\"\n      }, a.jsx(o.FormControl, null, a.jsx(o.FormControlLabel, {\n        control: a.jsx(s.Checkbox, {\n          disabled: !g,\n          checked: r.editable,\n          css: function css(e) {\n            return {\n              marginRight: e.spacing()\n            };\n          },\n          onChange: b\n        }),\n        label: \"Разрешить редактирование\"\n      })))), a.jsx(o.Grid, {\n        item: !0,\n        xs: 12\n      }, H && a.jsx(l.TemplateRenderer, {\n        answers: V,\n        template: k\n      })), !!h.length && a.jsx(c.Fragment, null, a.jsx(o.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3)\n          };\n        }\n      }, a.jsx(o.Divider, {\n        variant: \"fullWidth\"\n      })), a.jsx(o.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3)\n          };\n        }\n      }, h.map(function (e) {\n        return a.jsx(f.Comment, {\n          key: e.id,\n          comment: e,\n          onCommentDelete: L\n        });\n      }))), a.jsx(o.Grid, {\n        item: !0,\n        xs: 12,\n        css: function css(e) {\n          return {\n            marginTop: e.spacing(3)\n          };\n        }\n      }, x.map(function (e) {\n        return a.jsx(p.PendingComment, {\n          key: e.id,\n          comment: e,\n          onCommentDelete: y,\n          onCommentAccept: M\n        });\n      }))));\n    }, t.TaskDocument.displayName = \"TaskDocument\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(0),\n        i = n(7),\n        a = n(1),\n        s = n(6),\n        o = n(2);\n    t.Comment = function (e) {\n      var t = e.comment,\n          n = e.onCommentDelete,\n          l = o.useCallback(function () {\n        n && n(t.id);\n      }, [t.id, n]);\n      return r.jsx(a.Grid, {\n        container: !0,\n        spacing: 2\n      }, r.jsx(a.Grid, {\n        item: !0,\n        xs: 11\n      }, r.jsx(a.Grid, {\n        container: !0\n      }, r.jsx(a.Grid, {\n        item: !0,\n        xs: 12\n      }, r.jsx(a.Typography, {\n        component: \"span\",\n        css: function css(e) {\n          return {\n            color: e.colors.gray,\n            fontSize: e.fontSize.sNormal,\n            marginRight: e.spacing(2)\n          };\n        }\n      }, \"Рукастый Иннокентий Петрович\"), r.jsx(a.Typography, {\n        component: \"span\",\n        css: function css(e) {\n          return {\n            color: e.colors.lightGray,\n            fontSize: e.fontSize.sNormal\n          };\n        }\n      }, i.getFriendlyDate(new Date(t.createdAt)))), r.jsx(a.Grid, {\n        item: !0,\n        xs: 12\n      }, r.jsx(a.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        }\n      }, t.text)))), r.jsx(a.Grid, {\n        item: !0,\n        xs: 1,\n        css: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        }\n      }, r.jsx(a.IconButton, {\n        onClick: l\n      }, r.jsx(s.Close, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        }\n      }))));\n    }, t.Comment.displayName = \"Comment\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        i = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var r,\n          i,\n          a = n.call(e),\n          s = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(r = a.next()).done;) {\n          s.push(r.value);\n        }\n      } catch (e) {\n        i = {\n          error: e\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var a = n(0),\n        s = n(3),\n        o = n(1),\n        l = n(6),\n        u = n(2);\n    t.PendingComment = function (e) {\n      var t = e.comment,\n          n = e.onCommentAccept,\n          c = e.onCommentDelete,\n          d = i(u.useState(\"\"), 2),\n          f = d[0],\n          p = d[1];\n      var m = u.useCallback(function () {\n        n && f && n(r(r({}, t), {\n          text: f\n        }));\n      }, [t, n, f]),\n          C = u.useCallback(function () {\n        c && c(t.id);\n      }, [t.id, c]);\n      return a.jsx(o.Grid, {\n        container: !0,\n        spacing: 2\n      }, a.jsx(o.Grid, {\n        item: !0,\n        xs: 11\n      }, a.jsx(s.InputField, {\n        variant: \"filled\",\n        onBlur: m,\n        onChange: function onChange(e) {\n          p(e.target.value);\n        },\n        fullWidth: !0,\n        css: function css(e) {\n          return {\n            input: {\n              paddingTop: \"10px\"\n            },\n            \"> div\": {\n              borderRadius: e.radius(2),\n              \"&:after, &:before\": {\n                content: \"none\"\n              }\n            }\n          };\n        }\n      })), a.jsx(o.Grid, {\n        item: !0,\n        xs: 1,\n        css: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        }\n      }, a.jsx(o.IconButton, {\n        onClick: C\n      }, a.jsx(l.Close, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.normal\n          };\n        }\n      }))));\n    }, t.PendingComment.displayName = \"PendingComment\";\n  }, function (e, t, n) {\n    \"use strict\";\n\n    var r = this && this.__assign || function () {\n      return (r = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var i in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        i = this && this.__rest || function (e, t) {\n      var n = {};\n\n      for (var r in e) {\n        Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);\n      }\n\n      if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var i = 0;\n\n        for (r = Object.getOwnPropertySymbols(e); i < r.length; i++) {\n          t.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(e, r[i]) && (n[r[i]] = e[r[i]]);\n        }\n      }\n\n      return n;\n    },\n        a = this && this.__read || function (e, t) {\n      var n = \"function\" == typeof Symbol && e[Symbol.iterator];\n      if (!n) return e;\n      var r,\n          i,\n          a = n.call(e),\n          s = [];\n\n      try {\n        for (; (void 0 === t || t-- > 0) && !(r = a.next()).done;) {\n          s.push(r.value);\n        }\n      } catch (e) {\n        i = {\n          error: e\n        };\n      } finally {\n        try {\n          r && !r.done && (n = a.return) && n.call(a);\n        } finally {\n          if (i) throw i.error;\n        }\n      }\n\n      return s;\n    },\n        s = this && this.__importDefault || function (e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    };\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var o = n(0),\n        l = n(3),\n        u = n(7),\n        c = n(1),\n        d = n(6),\n        f = s(n(4)),\n        p = n(2);\n    t.TaskStages = function (e) {\n      var n = e.task,\n          i = e.onChangeStageDeadline,\n          a = e.onChangeStageTitle,\n          s = e.onDeleteStage,\n          l = (n.stages || []).map(function (e, t) {\n        return r(r({}, e), {\n          __index: t + 1\n        });\n      }),\n          d = l.reduce(function (e, t) {\n        return e || !!t.editable;\n      }, !1);\n      return o.jsx(c.Stepper, {\n        orientation: \"vertical\"\n      }, (d ? [l[l.length - 2], l[l.length - 1]] : [l[l.length - 1]]).filter(Boolean).map(function (e) {\n        var n = e.deadline || \"\",\n            r = e.title || \"\";\n        return o.jsx(t.TaskStage, {\n          key: e.id,\n          id: e.id,\n          editable: !!e.editable,\n          completed: e.finished,\n          createdAt: u.getFriendlyDate(new Date(e.createdAt)),\n          title: r,\n          deadline: e.editable ? n : f.default.isNaN(Date.parse(n)) ? n : u.getFriendlyDate(new Date(n)),\n          index: e.__index,\n          onChangeTitle: a,\n          onChangeDeadline: i,\n          onDelete: s\n        });\n      }));\n    }, t.TaskStages.displayName = \"TaskStages\", t.TaskStage = function (e) {\n      var t = e.completed,\n          n = e.title,\n          s = e.editable,\n          u = e.deadline,\n          f = e.index,\n          m = e.onChangeTitle,\n          C = e.onChangeDeadline,\n          g = e.id,\n          x = e.onDelete,\n          h = e.createdAt,\n          j = i(e, [\"completed\", \"title\", \"editable\", \"deadline\", \"index\", \"onChangeTitle\", \"onChangeDeadline\", \"id\", \"onDelete\", \"createdAt\"]),\n          v = a(p.useState(n || \"\"), 2),\n          y = v[0],\n          M = v[1],\n          L = a(p.useState(u || \"\"), 2),\n          k = L[0],\n          H = L[1],\n          V = p.useRef(n),\n          b = p.useRef(u);\n      p.useEffect(function () {\n        n && V.current !== n && M(n), u && b.current !== u && H(u);\n      }, [u, n]);\n\n      var _ = p.useCallback(function () {\n        m && m(g, y);\n      }, [g, m, y]),\n          Z = p.useCallback(function () {\n        C && C(g, k);\n      }, [g, C, k]),\n          S = p.useCallback(function () {\n        x && x(g);\n      }, [g, x]);\n\n      return o.jsx(c.Step, r({}, j, {\n        active: !0,\n        completed: t\n      }), o.jsx(c.StepLabel, r({}, f ? {\n        icon: f\n      } : {}, {\n        css: function css(e) {\n          return {\n            svg: {\n              color: e.colors.primary + \" !important\"\n            }\n          };\n        }\n      }), !s && o.jsx(c.Typography, {\n        css: function css(e) {\n          return {\n            fontSize: e.fontSize.large\n          };\n        }\n      }, n), s && o.jsx(c.Grid, {\n        container: !0\n      }, o.jsx(c.Grid, {\n        item: !0,\n        xs: 10\n      }, o.jsx(l.InputField, {\n        fullWidth: !0,\n        css: function css(e) {\n          return {\n            input: {\n              fontSize: e.fontSize.larger\n            }\n          };\n        },\n        value: y,\n        onChange: function onChange(e) {\n          M(e.target.value);\n        },\n        onBlur: _\n      })), o.jsx(c.Grid, {\n        item: !0,\n        xs: !0\n      }, o.jsx(c.IconButton, {\n        css: function css(e) {\n          return {\n            svg: {\n              color: e.colors.gray + \" !important\"\n            }\n          };\n        },\n        onClick: S\n      }, o.jsx(d.Close, null))))), o.jsx(c.StepContent, null, !s && o.jsx(c.Typography, {\n        css: function css(e) {\n          var t = e.colors,\n              n = e.fontSize;\n          return {\n            color: t.gray,\n            fontSize: n.secondary\n          };\n        }\n      }, h, \" - \", u), s && o.jsx(l.DateField, {\n        value: k,\n        onChange: function onChange(e) {\n          H(e.target.value);\n        },\n        onBlur: Z\n      })));\n    }, t.TaskStage.displayName = \"TaskStage\";\n  }]);\n});","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport {\n    Button,\n    Dialog,\n    IColumn,\n    InputField,\n    ITab,\n    SelectField,\n    Table,\n    TabsWrapper,\n} from \"@magnit/components\";\nimport { ETaskStatus } from \"@magnit/entities\";\nimport { AddIcon, ReturnIcon, SendIcon } from \"@magnit/icons\";\nimport { getFriendlyDate } from \"@magnit/services\";\nimport { Grid, MenuItem, Paper, Typography } from \"@material-ui/core\";\nimport { Link, Redirect, RouteComponentProps } from \"@reach/router\";\nimport { EmptyList } from \"components/list\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { AppContext } from \"context\";\nimport _ from \"lodash\";\nimport * as React from \"react\";\nimport { useCallback, useContext, useEffect, useRef, useState } from \"react\";\nimport {\n    getAllRegions,\n    getCitiesForRegion,\n    getTasksExtended,\n    IExtendedTask,\n    TExtendedTaskSortKeys,\n    updateTask,\n} from \"services/api\";\n\nconst tabs: ITab[] = [\n    { value: ETaskStatus.IN_PROGRESS.replace(\"_\", \"-\"), label: \"В работе\" },\n    { value: ETaskStatus.ON_CHECK.replace(\"_\", \"-\"), label: \"На проверке\" },\n    { value: ETaskStatus.EXPIRED, label: \"Просроченные\" },\n    { value: ETaskStatus.DRAFT, label: \"Черновики\" },\n    { value: ETaskStatus.COMPLETED, label: \"Завершенные\" },\n];\n\nconst columns: IColumn[] = [\n    { key: \"title\", label: \"Название задания\", sortable: true },\n    { key: \"region\", label: \"Регион\", sortable: true },\n    { key: \"city\", label: \"Филиал\", sortable: true },\n    { key: \"format\", label: \"Формат\", sortable: true },\n    { key: \"stageTitle\", label: \"Этап\", sortable: true },\n    { key: \"deadline\", label: \"Срок выполнения\", sortable: true },\n];\n\ntype TRouteProps = { \"*\": string };\n\ntype TTask = IExtendedTask & { selected: boolean };\n\ninterface IUpdateTaskListOptions {\n    sort?: \"asc\" | \"desc\";\n    sortBy?: TExtendedTaskSortKeys;\n    title?: string;\n    region?: string;\n    city?: string;\n}\n\ntype TSelectChangeEvent = React.ChangeEvent<{ name?: string; value: unknown }>;\n\nexport interface ITaskListProps extends RouteComponentProps<TRouteProps> {}\n\nexport const TasksList: React.FC<ITaskListProps> = props => {\n    const tab = props[\"*\"]!;\n\n    const context = useContext(AppContext);\n\n    const [dialogOpen, setDialogOpen] = useState(false);\n\n    // set task on click to redirect ot it\n    const [tasks, setTasks] = useState<TTask[]>([]);\n\n    // selection\n    const [selectedTasks, setSelectedTasks] = useState<Map<number, TTask>>(new Map());\n\n    // full text search\n    const [searchQuery, setSearchQuery] = useState(\"\");\n\n    // total count of tasks\n    const [total, setTotal] = useState(0);\n\n    // choose region + city selects\n    const [selectedRegion, setSelectedRegion] = useState<string>(\"\");\n    const [selectedCity, setSelectedCity] = useState<string>(\"\");\n    const [marketplaceRegions, setMarketplaceRegions] = useState<string[]>([]);\n    const [regionCities, setRegionCities] = useState<string[]>([]);\n\n    // table\n    const [page, setPage] = useState(0);\n    const [order, setOrder] = useState<\"asc\" | \"desc\">(\"asc\");\n    const [orderBy, setOrderBy] = useState<TExtendedTaskSortKeys>(\"\");\n\n    const fetchRegionsAndUpdateState = useCallback(() => {\n        getAllRegions(context.courier)\n            .then(response => setMarketplaceRegions(response.regions))\n            .catch(console.error);\n    }, [context.courier]);\n\n    const fetchCitiesAndUpdateState = useCallback(\n        (region: string) => {\n            getCitiesForRegion(context.courier, region)\n                .then(response => setRegionCities(response.cities))\n                .catch(console.error);\n        },\n        [context.courier],\n    );\n\n    const clearSelectedTasks = useCallback(() => {\n        selectedTasks.clear();\n        setSelectedTasks(new Map(selectedTasks));\n    }, [selectedTasks]);\n\n    const transformTaskDateToFriendly = useCallback(\n        (task: IExtendedTask) => ({\n            ...task,\n            selected: false,\n            createdAt: getFriendlyDate(new Date(task.createdAt!), true),\n            updatedAt: getFriendlyDate(new Date(task.updatedAt!), true),\n            deadline: getFriendlyDate(new Date(task.updatedAt!), true),\n        }),\n        [],\n    );\n\n    const fetchTasksAndUpdateState = useCallback(\n        ({ sort, sortBy, title, region, city }: IUpdateTaskListOptions = {}) => {\n            clearSelectedTasks();\n            // get task by current status\n            // also apply queries\n            const upperCaseSort = (sort || \"ASC\").toUpperCase() as \"ASC\" | \"DESC\";\n            getTasksExtended(\n                context.courier,\n                getTaskStatusByTab(tab),\n                upperCaseSort,\n                sortBy,\n                title,\n                region,\n                city,\n            )\n                .then(response => {\n                    setTasks(response.tasks.map(transformTaskDateToFriendly));\n                    setTotal(response.all);\n                })\n                .catch(console.error);\n        },\n        [clearSelectedTasks, context.courier, transformTaskDateToFriendly, tab],\n    );\n\n    const prevTab = useRef<string | null>(null);\n    useEffect(() => {\n        if (prevTab.current !== tab) {\n            prevTab.current = tab;\n            // reset table\n            setPage(0);\n            setOrder(\"asc\");\n            setOrderBy(\"\");\n            // reset search query\n            setSearchQuery(\"\");\n            // reset selected state\n            setSelectedRegion(\"\");\n            setSelectedCity(\"\");\n            // fetch tasks\n            fetchTasksAndUpdateState();\n            // fetch marketplaces\n            fetchRegionsAndUpdateState();\n        }\n    }, [tab, fetchTasksAndUpdateState, fetchRegionsAndUpdateState]);\n\n    const prevTaskRegion = useRef(selectedRegion);\n    useEffect(() => {\n        if (!(selectedRegion && prevTaskRegion.current !== selectedRegion)) {\n            return;\n        }\n        fetchCitiesAndUpdateState(selectedRegion);\n    }, [fetchCitiesAndUpdateState, selectedRegion]);\n\n    const [redirect, setRedirect] = useState({ redirect: false, to: \"\" });\n\n    function onRowClick(row: object) {\n        if (!_.isObject(row) || !_.has(row, \"id\")) {\n            return;\n        }\n        setRedirect({ redirect: true, to: _.get(row, \"id\") });\n    }\n\n    const onRowSelectToggleCallback = useCallback(\n        (row: object, selected: boolean) => {\n            if (!_.isObject(row) || !_.has(row, \"id\")) {\n                return;\n            }\n            // select or un-select tasks for rejecting\n            const id = _.get(row, \"id\")!;\n            if (selected) {\n                selectedTasks.set(id, row as TTask);\n            } else {\n                selectedTasks.delete(id);\n            }\n            setSelectedTasks(new Map(selectedTasks));\n            // update actual task\n            const taskIndex = tasks.findIndex(task => task.id === id);\n            if (taskIndex !== -1) {\n                tasks[taskIndex].selected = selected;\n                setTasks([...tasks]);\n            }\n        },\n        [selectedTasks, tasks],\n    );\n\n    const setTaskToOnCheck = useCallback(\n        async (task: TTask) =>\n            updateTask(context.courier, Number(task.id), { status: ETaskStatus.ON_CHECK }),\n        [context.courier],\n    );\n\n    const onBulkRejectClickCallback = useCallback(() => {\n        const tasksToUpdate = [...selectedTasks.values()];\n\n        const isNotInProgress = (task: TTask) => task.status !== ETaskStatus.IN_PROGRESS;\n\n        // allow reject only tasks in IN_PROGRESS state\n        if (tasksToUpdate.some(isNotInProgress)) {\n            return;\n        }\n\n        // TODO: perform one request\n        // https://github.com/DavidArutiunian/magnit/issues/88\n        Promise.all(tasksToUpdate.map(setTaskToOnCheck))\n            .then(() => fetchTasksAndUpdateState())\n            .catch(console.error)\n            .finally(onDialogClose);\n    }, [selectedTasks, setTaskToOnCheck, fetchTasksAndUpdateState]);\n\n    const setTaskToInProgress = useCallback(\n        async (task: TTask) =>\n            updateTask(context.courier, Number(task.id), { status: ETaskStatus.IN_PROGRESS }),\n        [context.courier],\n    );\n\n    const onBulkCompleteClickCallback = useCallback(() => {\n        const tasksToUpdate = [...selectedTasks.values()];\n\n        const isNotDraftOrOnCheck = (task: TTask) =>\n            ![ETaskStatus.DRAFT, ETaskStatus.ON_CHECK].includes(task.status);\n\n        // allow complete only tasks in DRAFT & ON_CHECK states\n        if (tasksToUpdate.some(isNotDraftOrOnCheck)) {\n            return;\n        }\n\n        // TODO: perform one request\n        // https://github.com/DavidArutiunian/magnit/issues/88\n        Promise.all(tasksToUpdate.map(setTaskToInProgress))\n            .then(() => fetchTasksAndUpdateState())\n            .then(() => clearSelectedTasks())\n            .catch(console.error);\n    }, [clearSelectedTasks, selectedTasks, setTaskToInProgress, fetchTasksAndUpdateState]);\n\n    const onSelectToggleCallback = useCallback(\n        (selected: boolean) => {\n            const nextTasks = tasks.map(task => ({ ...task, selected }));\n            setTasks(nextTasks);\n            if (selected) {\n                nextTasks.forEach(task => task.id && selectedTasks.set(task.id, task));\n                setSelectedTasks(new Map(selectedTasks));\n            } else {\n                clearSelectedTasks();\n            }\n        },\n        [clearSelectedTasks, selectedTasks, tasks],\n    );\n\n    const updateTaskListDebounced = _.debounce(fetchTasksAndUpdateState, 150);\n\n    const onSearchQueryChangeCallback = useCallback(\n        (event: React.ChangeEvent<HTMLInputElement>) => {\n            const value = event.target.value;\n            setSearchQuery(value);\n            updateTaskListDebounced({\n                title: value,\n                region: selectedRegion,\n                city: selectedCity,\n                sortBy: orderBy,\n                sort: order,\n            });\n        },\n        [order, orderBy, selectedCity, selectedRegion, updateTaskListDebounced],\n    );\n\n    const onRequestSortCallback = useCallback(\n        (sort: \"asc\" | \"desc\", sortBy: TExtendedTaskSortKeys) => {\n            setOrder(sort);\n            setOrderBy(sortBy);\n            fetchTasksAndUpdateState({\n                title: searchQuery,\n                region: selectedRegion,\n                city: selectedCity,\n                sortBy,\n                sort,\n            });\n        },\n        [fetchTasksAndUpdateState, searchQuery, selectedCity, selectedRegion],\n    );\n\n    function onDialogOpen() {\n        setDialogOpen(true);\n    }\n\n    function onDialogClose() {\n        setDialogOpen(false);\n    }\n\n    const onRegionChangeCallback = useCallback(\n        (event: TSelectChangeEvent) => {\n            const value = event.target.value as string;\n            setSelectedRegion(value);\n            setSelectedCity(\"\");\n            // empty cities if selected nothing\n            if (!value) {\n                setRegionCities([]);\n            }\n            updateTaskListDebounced({\n                title: searchQuery,\n                region: value,\n                sort: order,\n                sortBy: orderBy,\n            });\n        },\n        [order, orderBy, searchQuery, updateTaskListDebounced],\n    );\n\n    const onCityChangeCallback = useCallback(\n        (event: TSelectChangeEvent) => {\n            const value = event.target.value as string;\n            setSelectedCity(value);\n            updateTaskListDebounced({\n                title: searchQuery,\n                region: selectedRegion,\n                city: value,\n                sort: order,\n                sortBy: orderBy,\n            });\n        },\n        [order, orderBy, searchQuery, selectedRegion, updateTaskListDebounced],\n    );\n\n    function onChangePage(nextPage: number) {\n        setPage(nextPage);\n    }\n\n    const empty = !total;\n\n    return (\n        <SectionLayout>\n            <Dialog open={dialogOpen} onClose={onDialogClose} onSuccess={onBulkRejectClickCallback}>\n                Вы действительно хотите отозвать задания?\n            </Dialog>\n            {redirect.redirect && <Redirect to={`tasks/view/${redirect.to}`} noThrow />}\n            <SectionTitle title=\"Список заданий\">\n                {process.env.REACT_APP_ALLOW_CREATE_TASK && (\n                    <Grid item hidden={empty}>\n                        <Button component={Link} to=\"create\" variant=\"contained\" scheme=\"blue\">\n                            <AddIcon />\n                            <Typography>Создать задание</Typography>\n                        </Button>\n                    </Grid>\n                )}\n            </SectionTitle>\n            {empty && (\n                <EmptyList\n                    title=\"Заданий нет\"\n                    button={\n                        <React.Fragment>\n                            {process.env.REACT_APP_ALLOW_CREATE_TASK && (\n                                <Grid item>\n                                    <Button\n                                        component={Link}\n                                        to=\"create\"\n                                        variant=\"contained\"\n                                        scheme=\"blue\"\n                                    >\n                                        <AddIcon />\n                                        <Typography>Создать задание</Typography>\n                                    </Button>\n                                </Grid>\n                            )}\n                        </React.Fragment>\n                    }\n                >\n                    {process.env.REACT_APP_ALLOW_CREATE_TASK && (\n                        <React.Fragment>\n                            <div>Для создания задания нажмите кнопку</div>\n                            <div>Создать задание</div>\n                        </React.Fragment>\n                    )}\n                </EmptyList>\n            )}\n            {!empty && (\n                <Paper\n                    square={true}\n                    css={({ spacing, boxShadow }) => ({\n                        margin: spacing(3),\n                        boxShadow: boxShadow.paper,\n                    })}\n                >\n                    <Grid container direction=\"row\" css={theme => ({ padding: theme.spacing(2) })}>\n                        <Grid item xs={12}>\n                            <TabsWrapper tabs={tabs}>\n                                <Grid\n                                    container\n                                    direction=\"column\"\n                                    css={theme => ({ padding: theme.spacing(4) })}\n                                >\n                                    <Grid item xs={12}>\n                                        <Grid container direction=\"row\" spacing={2}>\n                                            <Grid item xs>\n                                                <InputField\n                                                    placeholder=\"Поиск ...\"\n                                                    fullWidth\n                                                    value={searchQuery}\n                                                    onChange={onSearchQueryChangeCallback}\n                                                    css={({ spacing, radius, colors }) => ({\n                                                        borderRadius: radius(5),\n                                                        background: colors.white,\n                                                        border: `1px solid ${colors.lightGray}`,\n                                                        transition: \"border 0.25s ease-in-out\",\n                                                        cursor: \"pointer\",\n                                                        \":hover, :active\": {\n                                                            border: `1px solid ${colors.primary}`,\n                                                        },\n                                                        div: {\n                                                            \":before, :after\": {\n                                                                border: \"none !important\",\n                                                            },\n                                                        },\n                                                        input: {\n                                                            padding: `${spacing(2)} ${spacing(4)}`,\n                                                        },\n                                                    })}\n                                                />\n                                            </Grid>\n                                            <Grid item xs={2}>\n                                                <SelectField\n                                                    placeholderDisabled={false}\n                                                    value={selectedRegion}\n                                                    placeholder=\"Выберите регион\"\n                                                    fullWidth\n                                                    onChange={onRegionChangeCallback}\n                                                >\n                                                    {(marketplaceRegions || []).map(region => (\n                                                        <MenuItem key={region} value={region}>\n                                                            {region}\n                                                        </MenuItem>\n                                                    ))}\n                                                </SelectField>\n                                            </Grid>\n                                            <Grid item xs={2}>\n                                                <SelectField\n                                                    placeholderDisabled={false}\n                                                    value={selectedCity}\n                                                    placeholder=\"Выберите филиал\"\n                                                    fullWidth\n                                                    onChange={onCityChangeCallback}\n                                                >\n                                                    {(regionCities || []).map(city => (\n                                                        <MenuItem key={city} value={city}>\n                                                            {city}\n                                                        </MenuItem>\n                                                    ))}\n                                                </SelectField>\n                                            </Grid>\n                                        </Grid>\n                                    </Grid>\n                                    <Grid\n                                        xs={12}\n                                        item\n                                        css={theme => ({\n                                            padding: theme.spacing(3),\n                                            paddingLeft: 0,\n                                            paddingRight: 0,\n                                        })}\n                                    >\n                                        <Table\n                                            css={theme => ({\n                                                marginLeft: theme.spacing(-2),\n                                                width: `calc(100% + ${theme.spacing(4)})`,\n                                            })}\n                                            page={page}\n                                            order={order}\n                                            orderBy={orderBy}\n                                            selectable\n                                            columns={columns}\n                                            data={tasks}\n                                            onRowClick={onRowClick}\n                                            onRowSelectToggle={onRowSelectToggleCallback}\n                                            onSelectToggle={onSelectToggleCallback}\n                                            onRequestSort={onRequestSortCallback}\n                                            onChangePage={onChangePage}\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        {(tab === ETaskStatus.IN_PROGRESS.replace(\"_\", \"-\") ||\n                                            !tab) && (\n                                            <Button\n                                                variant=\"contained\"\n                                                scheme=\"blue\"\n                                                onClick={onDialogOpen}\n                                            >\n                                                <ReturnIcon />\n                                                <Typography>Отозвать</Typography>\n                                            </Button>\n                                        )}\n                                        {tab &&\n                                            tab !== ETaskStatus.IN_PROGRESS.replace(\"_\", \"-\") &&\n                                            tab !== ETaskStatus.COMPLETED && (\n                                                <Button\n                                                    variant=\"contained\"\n                                                    scheme=\"blue\"\n                                                    onClick={onBulkCompleteClickCallback}\n                                                >\n                                                    <SendIcon />\n                                                    <Typography>Отправить</Typography>\n                                                </Button>\n                                            )}\n                                    </Grid>\n                                </Grid>\n                            </TabsWrapper>\n                        </Grid>\n                    </Grid>\n                </Paper>\n            )}\n        </SectionLayout>\n    );\n};\n\nTasksList.displayName = \"TasksList\";\n\nfunction getTaskStatusByTab(tab?: string): ETaskStatus {\n    if (!tab) {\n        return ETaskStatus.IN_PROGRESS;\n    }\n    return ((tab as unknown) as string).replace(\"-\", \"_\") as ETaskStatus;\n}\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Button } from \"@magnit/components\";\nimport { ETaskStatus, ITask, ITemplate, IUser } from \"@magnit/entities\";\nimport { SendIcon } from \"@magnit/icons\";\nimport { TaskEditor } from \"@magnit/task-editor\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { RouteComponentProps } from \"@reach/router\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { Snackbar } from \"components/snackbar\";\nimport { AppContext } from \"context\";\nimport _ from \"lodash\";\nimport * as React from \"react\";\nimport { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n    addTemplateAssignment,\n    createTask,\n    getAddressesForFormat,\n    getAllRegions,\n    getCitiesForRegion,\n    getFormatsForCity,\n    getTemplates,\n} from \"services/api\";\n\nexport interface ICreateTaskProps extends RouteComponentProps {\n    username: string;\n    users: IUser[];\n}\n\nexport const CreateTask: React.FC<ICreateTaskProps> = props => {\n    const { users, username } = props;\n\n    const context = useContext(AppContext);\n\n    // all templates\n    const [templates, setTemplates] = useState<ITemplate[]>([]);\n\n    // task state\n    const owner = users.find(user => user.username === username);\n    const [task, setTask] = useState<ITask>({\n        id: 0,\n        title: \"\",\n        templates: [],\n        stages: [],\n        marketplace: {\n            address: \"\",\n            city: \"\",\n            format: \"\",\n            region: \"\",\n        },\n        status: ETaskStatus.DRAFT,\n        idOwner: owner ? owner.id : \"\",\n    });\n\n    // snackbar\n    // deprecated, should be used within context\n    const [error, setError] = useState(false); // success/error snackbar state\n    const [snackbar, setSnackbar] = useState({\n        open: false,\n        message: \"\",\n    }); // open/close snackbar\n\n    // marketplace\n    const [marketplaceRegions, setMarketplaceRegions] = useState<string[]>([]);\n    const [regionCities, setRegionCities] = useState<string[]>([]);\n    const [cityFormats, setCityFormats] = useState<string[]>([]);\n    const [formatAddresses, setFormatAddresses] = useState<string[]>([]);\n\n    useEffect(() => {\n        getTemplates(context.courier)\n            .then(response => setTemplates([...response.templates]))\n            .catch(console.error);\n    }, [context.courier]);\n\n    useEffect(() => {\n        // only draft mode contains marketplace selects\n        if (task.status !== ETaskStatus.DRAFT) {\n            return;\n        }\n        getAllRegions(context.courier)\n            .then(response => setMarketplaceRegions(response.regions))\n            .catch(console.error);\n    }, [context.courier, task.status]);\n\n    // get all regions initially\n    const region = (task.marketplace || {}).region;\n    const prevTaskRegion = useRef(region);\n    useEffect(() => {\n        if (region && prevTaskRegion.current !== region) {\n            getCitiesForRegion(context.courier, region)\n                .then(response => setRegionCities(response.cities))\n                .catch(console.error);\n        }\n    }, [context.courier, region]);\n\n    // fetching all available formats for city\n    // if task marketplace city has changed\n    const city = (task.marketplace || {}).city;\n    const prevTaskCity = useRef(city);\n    useEffect(() => {\n        if (city && region && prevTaskCity.current !== city) {\n            getFormatsForCity(context.courier, region, city)\n                .then(response => setCityFormats(response.formats))\n                .catch(console.error);\n        }\n    }, [context.courier, region, city]);\n\n    // fetching all available addresses for format\n    // if task marketplace format has changed\n    const format = (task.marketplace || {}).format;\n    const prevTaskFormat = useRef(format);\n    useEffect(() => {\n        if (city && region && format && prevTaskFormat.current !== format) {\n            getAddressesForFormat(context.courier, region, city, format)\n                .then(response => setFormatAddresses(response.addresses))\n                .catch(console.error);\n        }\n    }, [context.courier, format, region, city]);\n\n    function onSnackbarClose(event?: React.SyntheticEvent, reason?: string) {\n        if (reason === \"clickaway\") {\n            return;\n        }\n        setSnackbar({ open: false, message: \"\" });\n        // wait till animation ends\n        setTimeout(() => setError(false), 100);\n    }\n\n    function onTaskChange(task: Partial<ITask>): void {\n        const isValidTask = (value: object): value is ITask =>\n            _.has(value, \"id\") && _.has(value, \"title\") && _.has(value, \"templates\");\n\n        if (isValidTask(task)) {\n            setTask({ ...task });\n        }\n    }\n\n    function onTaskSave(): void {\n        createTask(context.courier, task)\n            .then(async response =>\n                addTemplateAssignment(\n                    context.courier,\n                    Number(response.taskId),\n                    (task.templates || []).map(_.toNumber),\n                ),\n            )\n            .then(() => setSnackbar({ open: true, message: \"Задание успешно сохранено!\" }))\n            .catch(() => {\n                setSnackbar({ open: true, message: \"Ошибка сохранения задания!\" });\n                setError(true);\n            });\n    }\n\n    return (\n        <SectionLayout>\n            <SectionTitle title=\"Создание задания\">\n                <Grid item>\n                    <Button\n                        variant=\"contained\"\n                        scheme=\"blue\"\n                        css={theme => ({ margin: `0 ${theme.spacing(1)}` })}\n                        onClick={onTaskSave}\n                        disabled={snackbar.open}\n                    >\n                        <SendIcon />\n                        <Typography>Отправить</Typography>\n                    </Button>\n                </Grid>\n            </SectionTitle>\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                    transition: \"opacity 0.3s ease-in-out\",\n                })}\n            >\n                <TaskEditor<ITask>\n                    users={users}\n                    variant=\"create\"\n                    task={task}\n                    templates={templates}\n                    regions={marketplaceRegions}\n                    cities={regionCities}\n                    formats={cityFormats}\n                    addresses={formatAddresses}\n                    onTaskChange={onTaskChange}\n                />\n            </Grid>\n            <Snackbar\n                open={snackbar.open}\n                error={error}\n                onClose={onSnackbarClose}\n                message={snackbar.message}\n            />\n        </SectionLayout>\n    );\n};\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Modal } from \"@material-ui/core\";\nimport { Close as CloseIcon } from \"@material-ui/icons\";\nimport * as React from \"react\";\n\ninterface IProps {\n    open?: boolean;\n    width?: number | string;\n\n    onClose?(): void;\n}\n\nexport const SimpleModal: React.FC<IProps> = ({ onClose, open, width, children }) => {\n    return (\n        <Modal open={!!open} onClose={onClose}>\n            <div\n                css={theme => ({\n                    position: \"absolute\",\n                    top: \"50%\",\n                    left: \"50%\",\n                    transform: \"translate(-50%, -50%)\",\n                    padding: theme.spacing(6),\n                    maxWidth: \"100%\",\n                    backgroundColor: theme.colors.white,\n                    width: width || theme.spacing(6),\n                    borderRadius: 6,\n                })}\n            >\n                <div\n                    css={theme => ({\n                        fontSize: theme.fontSize.xxLarge,\n                        position: \"absolute\",\n                        top: \"-.5em\",\n                        right: \"-.5em\",\n                        color: theme.colors.white,\n                        backgroundColor: theme.colors.gray,\n                        borderRadius: \"50%\",\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        width: \"1em\",\n                        height: \"1em\",\n                        cursor: \"pointer\",\n                    })}\n                    onClick={onClose}\n                >\n                    <CloseIcon css={theme => ({ fontSize: theme.fontSize.small })} />\n                </div>\n                {children}\n            </div>\n        </Modal>\n    );\n};\n\nSimpleModal.displayName = \"SimpleModal\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Button, InputField } from \"@magnit/components\";\nimport { SendIcon } from \"@magnit/icons\";\nimport { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { useCallback, useState } from \"react\";\n\ninterface ISendMessageFormProps {\n    onSubmit?(title: string, message: string): void;\n}\n\nexport const SendMessageForm: React.FC<ISendMessageFormProps> = props => {\n    const { onSubmit } = props;\n\n    const [title, setTitle] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n\n    const onSubmitCallback = useCallback(\n        (event: React.FormEvent) => {\n            event.preventDefault();\n            if (onSubmit) {\n                onSubmit(title, message);\n            }\n        },\n        [title, message, onSubmit],\n    );\n\n    function onChangeTitle(event: React.ChangeEvent<HTMLInputElement>) {\n        setTitle(event.target.value);\n    }\n\n    function onChangeMessage(event: React.ChangeEvent<HTMLInputElement>) {\n        setMessage(event.target.value);\n    }\n\n    return (\n        <form action=\"\" onSubmit={onSubmitCallback}>\n            <Grid container>\n                <Grid\n                    item\n                    xs={12}\n                    css={theme => ({\n                        fontSize: theme.fontSize.larger,\n                        marginBottom: theme.spacing(2),\n                    })}\n                >\n                    Новое сообщение\n                </Grid>\n                <Grid item xs={12}>\n                    <InputField\n                        onChange={onChangeTitle}\n                        value={title}\n                        placeholder=\"Заголовок\"\n                        autoFocus\n                        type=\"text\"\n                        required\n                        fullWidth\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <InputField\n                        onChange={onChangeMessage}\n                        value={message}\n                        placeholder=\"Текст сообщения\"\n                        autoFocus\n                        type=\"text\"\n                        required\n                        fullWidth\n                        multiline\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                    <Button\n                        type=\"submit\"\n                        css={theme => ({\n                            display: \"flex\",\n                            margin: `${theme.spacing(6)} auto 0`,\n                        })}\n                    >\n                        <SendIcon />\n                        Отправить\n                    </Button>\n                </Grid>\n            </Grid>\n        </form>\n    );\n};\n\nSendMessageForm.displayName = \"SendMessageForm\";\n","export class NoStagesException extends Error {}\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Button } from \"@magnit/components\";\nimport {\n    ETaskStatus,\n    IComment,\n    IExtendedDocument,\n    IExtendedTask,\n    IStage,\n    ITemplate,\n    ITemplateDocument,\n    IUser,\n} from \"@magnit/entities\";\nimport { SendIcon } from \"@magnit/icons\";\nimport { TaskEditor } from \"@magnit/task-editor\";\nimport { Grid, IconButton, Menu, MenuItem, Typography } from \"@material-ui/core\";\nimport { MoreVert as MoreVertIcon } from \"@material-ui/icons\";\nimport { Redirect } from \"@reach/router\";\nimport { SimpleModal } from \"components/modal\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { SendMessageForm } from \"components/view-task\";\nimport { AppContext } from \"context\";\nimport { NoStagesException } from \"exceptions\";\nimport _ from \"lodash\";\nimport * as React from \"react\";\nimport { useCallback, useContext, useEffect, useRef, useState } from \"react\";\nimport {\n    addComment,\n    addStages,\n    addTaskDocument,\n    addTemplateAssignment,\n    deleteComment,\n    deleteTaskDocument,\n    getAddressesForFormat,\n    getAllRegions,\n    getCitiesForRegion,\n    getFormatsForCity,\n    getTaskExtended,\n    getTemplates,\n    IGetTaskExtendedResponse,\n    IGetTemplatesResponse,\n    sendPushToken,\n    updateTask,\n    updateTemplateAssignment,\n} from \"services/api\";\n\nexport interface IViewTaskProps {\n    taskId: number;\n    users: IUser[];\n}\n\ninterface IEditableTemplate extends ITemplate {\n    editable: boolean;\n}\n\ntype TDocumentWithAnswers = ITemplateDocument & IExtendedDocument;\n\nexport const ViewTask: React.FC<IViewTaskProps> = props => {\n    const { taskId, users } = props;\n\n    const context = useContext(AppContext);\n\n    // dot menu\n    const [menuAnchorElement, setMenuAnchorElement] = useState<null | HTMLElement>(null);\n\n    // all templates\n    const [templates, setTemplates] = useState<IEditableTemplate[]>([]);\n\n    // modal\n    const [messageModalOpen, setMessageModalOpen] = useState(false);\n\n    // task state\n    const [task, setTask] = useState<IExtendedTask>({\n        id: 0,\n        title: \"\",\n        templates: [],\n        stages: [],\n        documents: [],\n        marketplace: {\n            address: \"\",\n            city: \"\",\n            format: \"\",\n            region: \"\",\n        },\n        status: ETaskStatus.DRAFT,\n    });\n\n    // redirect\n    const [redirect, setRedirect] = useState({\n        trigger: false,\n        to: \"\",\n    });\n\n    // marketplace\n    const [marketplaceRegions, setMarketplaceRegions] = useState<string[]>([]);\n    const [regionCities, setRegionCities] = useState<string[]>([]);\n    const [cityFormats, setCityFormats] = useState<string[]>([]);\n    const [formatAddresses, setFormatAddresses] = useState<string[]>([]);\n\n    const region = (task.marketplace || {}).region;\n    const city = (task.marketplace || {}).city;\n    const format = (task.marketplace || {}).format;\n\n    const isValidTask = (value: object): value is IExtendedTask =>\n        _.has(value, \"id\") &&\n        _.has(value, \"title\") &&\n        _.has(value, \"templates\") &&\n        _.has(value, \"stages\");\n\n    const initialStages = useRef<IExtendedTask[\"stages\"]>([]);\n\n    const isTaskEditable = (task: IExtendedTask) =>\n        task.status !== ETaskStatus.IN_PROGRESS && task.status !== ETaskStatus.COMPLETED;\n\n    const setTaskState = useCallback((response: IGetTaskExtendedResponse) => {\n        if (isValidTask(response.task)) {\n            initialStages.current = _.cloneDeep(response.task.stages);\n            setTask({ ...response.task });\n            return response.task;\n        }\n    }, []);\n\n    const fetchFormatsAndUpdateState = useCallback(\n        (region: string, city: string) => {\n            getFormatsForCity(context.courier, region, city)\n                .then(response => setCityFormats(response.formats))\n                .catch(console.error);\n        },\n        [context.courier],\n    );\n\n    const fetchRegionsAndUpdateState = useCallback(() => {\n        getAllRegions(context.courier)\n            .then(response => setMarketplaceRegions(response.regions))\n            .catch(console.error);\n    }, [context.courier]);\n\n    const fetchCitiesAndUpdateState = useCallback(\n        (region: string) => {\n            getCitiesForRegion(context.courier, region)\n                .then(response => setRegionCities(response.cities))\n                .catch(console.error);\n        },\n        [context.courier],\n    );\n\n    const fetchAddressesAndUpdateState = useCallback(\n        (region: string, city: string, format: string) => {\n            getAddressesForFormat(context.courier, region, city, format)\n                .then(response => setFormatAddresses(response.addresses))\n                .catch(console.error);\n        },\n        [context.courier],\n    );\n\n    function setTemplateState(response: IGetTemplatesResponse, nextTask: IExtendedTask) {\n        const buffer: any[] = [];\n        response.templates.forEach(template => buffer.push(template));\n        buffer.forEach((data, index, array) => {\n            const template = nextTask.templates.find(template => template.id === data.id);\n            if (template) {\n                array[index] = _.merge(data, template);\n            }\n        });\n        setTemplates([...buffer]);\n    }\n\n    const fetchTaskAndUpdateState = useCallback(() => {\n        getTaskExtended(context.courier, _.toNumber(taskId))\n            .then(setTaskState)\n            .then(async nextTask => {\n                if (!nextTask || !isTaskEditable(nextTask)) {\n                    return;\n                }\n                const response = await getTemplates(context.courier);\n\n                setTemplateState(response, nextTask);\n\n                if (nextTask.marketplace) {\n                    const { city, region, format } = nextTask.marketplace;\n                    await Promise.all([\n                        fetchRegionsAndUpdateState(),\n                        fetchCitiesAndUpdateState(region),\n                        fetchFormatsAndUpdateState(region, city),\n                        fetchAddressesAndUpdateState(region, city, format),\n                    ]).catch(console.error);\n                }\n            })\n            .catch(console.error);\n    }, [\n        context.courier,\n        fetchAddressesAndUpdateState,\n        fetchCitiesAndUpdateState,\n        fetchFormatsAndUpdateState,\n        fetchRegionsAndUpdateState,\n        setTaskState,\n        taskId,\n    ]);\n\n    const prevTaskId = useRef<number | null>(null);\n    useEffect(() => {\n        if (prevTaskId.current !== taskId) {\n            prevTaskId.current = taskId;\n            fetchTaskAndUpdateState();\n        }\n    }, [fetchTaskAndUpdateState, taskId]);\n\n    useEffect(() => {\n        // only draft mode contains marketplace selects\n        if (task.status !== ETaskStatus.DRAFT) {\n            return;\n        }\n        fetchRegionsAndUpdateState();\n    }, [fetchRegionsAndUpdateState, task.status]);\n\n    // get all regions initially\n    const prevTaskRegion = useRef(region);\n    useEffect(() => {\n        if (!(region && prevTaskRegion.current !== region)) {\n            return;\n        }\n        fetchCitiesAndUpdateState(region);\n    }, [fetchCitiesAndUpdateState, region]);\n\n    // fetching all available formats for city\n    // if task marketplace city has changed\n    const prevTaskCity = useRef(city);\n    useEffect(() => {\n        if (!(city && region && prevTaskCity.current !== city)) {\n            return;\n        }\n        fetchFormatsAndUpdateState(region, city);\n    }, [region, city, fetchFormatsAndUpdateState]);\n\n    // fetching all available addresses for format\n    // if task marketplace format has changed\n    const prevTaskFormat = useRef(format);\n    useEffect(() => {\n        if (!(city && region && format && prevTaskFormat.current !== format)) {\n            return;\n        }\n        fetchAddressesAndUpdateState(region, city, format);\n    }, [format, region, city, fetchAddressesAndUpdateState]);\n\n    function onTaskChange(task: Partial<IExtendedTask>): void {\n        if (isValidTask(task)) {\n            setTask({ ...task });\n        }\n    }\n\n    function onMenuClick(event: React.MouseEvent<HTMLButtonElement>) {\n        setMenuAnchorElement(event.currentTarget);\n    }\n\n    function onMenuClose() {\n        setMenuAnchorElement(null);\n    }\n\n    function onTaskHistoryClick() {\n        setRedirect({ to: `/tasks/${taskId}/history`, trigger: true });\n        onMenuClose();\n    }\n\n    function onTaskReportClick() {\n        setRedirect({ to: `/tasks/${taskId}/report`, trigger: true });\n        onMenuClose();\n    }\n\n    const addTaskStages = useCallback(\n        async (task: IExtendedTask) => {\n            const findIfStageExists = (stage: IStage) =>\n                !initialStages.current.find(initialStage => initialStage.id === stage.id);\n\n            const filterEmptyStages = (step: IStage) => step.title && step.deadline;\n\n            const diff = task.stages\n                // filter so that add only stages that doesn't exist\n                .filter(findIfStageExists)\n                // filter empty\n                .filter(filterEmptyStages)\n                .map(stage => {\n                    // TODO: mask input for date\n                    const splitted = stage.deadline.split(\".\");\n                    const date = new Date();\n                    date.setDate(Number(_.first(splitted)));\n                    date.setMonth(Number(_.nth(splitted, 1)) - 1);\n                    date.setFullYear(Number(_.nth(splitted, 2)));\n                    return { ...stage, deadline: new Date(date).toISOString() };\n                });\n            // throw error if overall no task stages found\n            const validTaskStages = task.stages.filter(stage => stage.title && stage.deadline);\n            if (validTaskStages.length + diff.length === 0) {\n                throw new NoStagesException();\n            }\n            if (!diff.length) {\n                return;\n            }\n            return addStages(context.courier, taskId, diff);\n        },\n        [context.courier, taskId],\n    );\n\n    const onTaskSaveCallback = useCallback((): void => {\n        const prevStatus = task.status;\n        // disallow update if task is not editable\n        if (!isTaskEditable(task)) {\n            return;\n        }\n        // sending from DRAFT to IN_PROGRESS\n        // only this transition is allowed\n        if (\n            task.status === ETaskStatus.DRAFT ||\n            task.status === ETaskStatus.ON_CHECK ||\n            task.status === ETaskStatus.EXPIRED\n        ) {\n            task.status = ETaskStatus.IN_PROGRESS;\n        }\n\n        const templateAssignmentExists = (assignment: TDocumentWithAnswers) =>\n            templates.find(template => template.id === assignment.id);\n\n        const templateIdToNumber = (template: TDocumentWithAnswers) => Number(template.id);\n\n        const callUpdateTemplateAssignment = ({ id, editable }: TDocumentWithAnswers) =>\n            updateTemplateAssignment(context.courier, taskId, Number(id), { editable });\n\n        const transformedTemplateAssignments = (task.templates || [])\n            .filter(templateAssignmentExists)\n            .map(templateIdToNumber);\n\n        const addAllTemplateAssignments = () =>\n            Promise.all(task.templates.map(callUpdateTemplateAssignment));\n\n        Promise.all([\n            addTemplateAssignment(\n                context.courier,\n                Number(taskId),\n                transformedTemplateAssignments,\n            ).then(addAllTemplateAssignments),\n            addTaskStages(task),\n        ])\n            .then(() => updateTask(context.courier, taskId, getTaskPayload(task)))\n            .then(() => {\n                fetchTaskAndUpdateState();\n                context.setSnackbarState({\n                    open: true,\n                    message: \"Задание успешно обновлено\",\n                });\n            })\n            .catch((error: Error) => {\n                // rollback status\n                task.status = prevStatus;\n                let message = \"Не удалось обновить задание\";\n                if (error instanceof NoStagesException) {\n                    message = \"Заполнение этапов обязательно\";\n                }\n                context.setSnackbarState({ open: true, message });\n                context.setSnackbarError(true);\n            });\n    }, [addTaskStages, context, task, taskId, templates, fetchTaskAndUpdateState]);\n\n    function onTaskWithdrawClick() {\n        if (task.status === ETaskStatus.IN_PROGRESS) {\n            task.status = ETaskStatus.ON_CHECK;\n        }\n        updateTask(context.courier, taskId, getTaskPayload(task))\n            .then(() => {\n                fetchTaskAndUpdateState();\n                context.setSnackbarState({\n                    open: true,\n                    message: \"Задание успешно отозвано\",\n                });\n            })\n            .catch(() => {\n                context.setSnackbarState({ open: true, message: \"Не удалось отозвать задание\" });\n                context.setSnackbarError(true);\n            });\n        onMenuClose();\n    }\n\n    function onTaskCompleteClick() {\n        if (task.status === ETaskStatus.IN_PROGRESS || task.status === ETaskStatus.ON_CHECK) {\n            task.status = ETaskStatus.COMPLETED;\n        }\n        updateTask(context.courier, taskId, getTaskPayload(task))\n            .then(() => {\n                fetchTaskAndUpdateState();\n                context.setSnackbarState({\n                    open: true,\n                    message: \"Задание успешно звершено\",\n                });\n            })\n            .catch(() => {\n                context.setSnackbarState({ open: true, message: \"Не удалось завершить задание\" });\n                context.setSnackbarError(true);\n            });\n        onMenuClose();\n    }\n\n    function onOpenSendMessageModel() {\n        onMenuClose();\n        setMessageModalOpen(true);\n    }\n\n    function onSubmitSendMessage(title: string, message: string) {\n        sendPushToken(context.courier, { title, body: message })\n            .then(() => {\n                setMessageModalOpen(false);\n                context.setSnackbarState({ open: true, message: \"Сообщение успешно отправлено\" });\n            })\n            .catch(() => {\n                setMessageModalOpen(false);\n                context.setSnackbarState({ open: true, message: \"Не удалось отправить сообщениу\" });\n                context.setSnackbarError(true);\n            });\n    }\n\n    function onMessageModalClose() {\n        setMessageModalOpen(false);\n    }\n\n    const onAddTaskDocument = useCallback(\n        (document: File) => {\n            addTaskDocument(context.courier, taskId, document)\n                .then(() => fetchTaskAndUpdateState())\n                .catch(() => {\n                    context.setSnackbarState({ open: true, message: \"Не удалось сохранить файл\" });\n                    context.setSnackbarError(true);\n                });\n        },\n        [context, taskId, fetchTaskAndUpdateState],\n    );\n\n    const onDeleteTaskDocument = useCallback(\n        (documentId: number) => {\n            deleteTaskDocument(context.courier, taskId, documentId)\n                .then(() => fetchTaskAndUpdateState())\n                .catch(() => {\n                    context.setSnackbarState({ open: true, message: \"Не удалось удалить файл\" });\n                    context.setSnackbarError(true);\n                });\n        },\n        [context, taskId, fetchTaskAndUpdateState],\n    );\n\n    const onAddComment = useCallback(\n        (comment: IComment) => {\n            addComment(context.courier, taskId, comment.idAssignment, comment.text)\n                .then(() => fetchTaskAndUpdateState())\n                .catch(() => {\n                    context.setSnackbarState({\n                        open: true,\n                        message: \"Не удалось добавить комментарий\",\n                    });\n                    context.setSnackbarError(true);\n                });\n        },\n        [context, taskId, fetchTaskAndUpdateState],\n    );\n\n    const onDeleteComment = useCallback(\n        (commentId: number) => {\n            deleteComment(context.courier, taskId, commentId)\n                .then(() => fetchTaskAndUpdateState())\n                .catch(() => {\n                    context.setSnackbarState({\n                        open: true,\n                        message: \"Не удалось удалить комментарий\",\n                    });\n                    context.setSnackbarError(true);\n                });\n        },\n        [context, taskId, fetchTaskAndUpdateState],\n    );\n\n    return (\n        <SectionLayout>\n            <SimpleModal width={370} open={messageModalOpen} onClose={onMessageModalClose}>\n                <SendMessageForm onSubmit={onSubmitSendMessage} />\n            </SimpleModal>\n            {redirect.trigger && <Redirect to={redirect.to} noThrow />}\n            <SectionTitle title=\"Информация о задании\">\n                <Grid item>\n                    <Grid container>\n                        <Grid item>\n                            {isTaskEditable(task) && (\n                                <Button\n                                    variant=\"contained\"\n                                    scheme=\"blue\"\n                                    css={theme => ({ margin: `0 ${theme.spacing(1)}` })}\n                                    onClick={onTaskSaveCallback}\n                                >\n                                    <SendIcon />\n                                    <Typography>Отправить</Typography>\n                                </Button>\n                            )}\n                        </Grid>\n                        {task.status !== ETaskStatus.DRAFT && (\n                            <React.Fragment>\n                                <Grid item>\n                                    <IconButton onClick={onMenuClick}>\n                                        <MoreVertIcon />\n                                    </IconButton>\n                                </Grid>\n                                <Menu\n                                    keepMounted\n                                    open={Boolean(menuAnchorElement)}\n                                    anchorEl={menuAnchorElement}\n                                    onClose={onMenuClose}\n                                >\n                                    <MenuItem onClick={onTaskReportClick}>\n                                        Посмотреть отчет\n                                    </MenuItem>\n                                    <MenuItem onClick={onTaskHistoryClick}>\n                                        Посмотреть историю\n                                    </MenuItem>\n                                    {task.status === ETaskStatus.IN_PROGRESS && (\n                                        <MenuItem onClick={onTaskWithdrawClick}>\n                                            Отозвать задание\n                                        </MenuItem>\n                                    )}\n                                    {task.status !== ETaskStatus.COMPLETED && (\n                                        <MenuItem onClick={onTaskCompleteClick}>\n                                            Завершить задание\n                                        </MenuItem>\n                                    )}\n                                    <MenuItem onClick={onOpenSendMessageModel}>\n                                        Отправить сообщение\n                                    </MenuItem>\n                                </Menu>\n                            </React.Fragment>\n                        )}\n                    </Grid>\n                </Grid>\n            </SectionTitle>\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                })}\n            >\n                <TaskEditor<IExtendedTask>\n                    users={users}\n                    task={task}\n                    regions={marketplaceRegions}\n                    cities={regionCities}\n                    formats={cityFormats}\n                    addresses={formatAddresses}\n                    templates={isTaskEditable(task) ? templates : task.templates}\n                    variant=\"view\"\n                    onTaskChange={onTaskChange}\n                    onDeleteAsset={onDeleteTaskDocument}\n                    onAddAsset={onAddTaskDocument}\n                    onAddComment={onAddComment}\n                    onDeleteComment={onDeleteComment}\n                />\n            </Grid>\n        </SectionLayout>\n    );\n};\n\nfunction getTaskPayload(task: IExtendedTask) {\n    return _.omit(task, [\"id\", \"templates\", \"stages\", \"documents\"]);\n}\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { SelectableBlockWrapper } from \"@magnit/components\";\nimport { CheckIcon } from \"@magnit/icons\";\nimport { getFriendlyDate } from \"@magnit/services\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { EmptyList } from \"components/list\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { AppContext } from \"context\";\nimport * as _ from \"lodash\";\nimport * as React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { getStagesWithFullHistory, IStageResponse } from \"services/api/tasks\";\n\nexport interface ITaskHistoryProps {\n    taskId: number;\n}\n\nexport const TaskHistory: React.FC<ITaskHistoryProps> = ({ taskId }) => {\n    const [stages, setStages] = useState<IStageResponse[]>([]);\n    const [focusedBlockId, setFocusedBlockId] = useState(-1);\n    const context = useContext(AppContext);\n\n    useEffect(() => {\n        getStagesWithFullHistory(context.courier, taskId)\n            .then(response => {\n                setFocusedBlockId((_.last(response.stages) || { id: -1 }).id);\n                setStages(response.stages);\n            })\n            .catch(console.error);\n    }, [context.courier, taskId]);\n\n    return (\n        <SectionLayout>\n            <SectionTitle title=\"История изменений\" />\n            {!stages.length && <EmptyList title=\"Нет истории\" />}\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                })}\n            >\n                {stages.map((stage, index) => {\n                    function onSelectableBlockFocus(): void {\n                        setFocusedBlockId(stage.id);\n                    }\n\n                    const last = index === stages.length - 1;\n\n                    return (\n                        <SelectableBlockWrapper\n                            key={stage.id}\n                            css={theme => ({\n                                padding: `${theme.spacing(3)} ${theme.spacing(4)}`,\n                                \"&:hover\": {\n                                    background: theme.colors.light,\n                                    \"> div:last-child\": { background: theme.colors.light },\n                                },\n                                zIndex: focusedBlockId === stage.id ? 1300 : \"initial\",\n                            })}\n                            focused={focusedBlockId === stage.id}\n                            onMouseDown={onSelectableBlockFocus}\n                            onFocus={onSelectableBlockFocus}\n                        >\n                            <Grid container spacing={2} css={{ position: \"relative\" }}>\n                                <Grid item>\n                                    <Grid container justify=\"flex-end\">\n                                        <div\n                                            css={theme => ({\n                                                width: theme.spacing(3),\n                                                height: theme.spacing(3),\n                                                borderRadius: \"50%\",\n                                                border: `2px solid ${theme.colors.primary}`,\n                                                zIndex: 1500,\n                                                color: stage.finished\n                                                    ? theme.colors.white\n                                                    : \"initial\",\n                                                position: \"relative\",\n                                                background: stage.finished\n                                                    ? theme.colors.primary\n                                                    : theme.colors.white,\n                                            })}\n                                        >\n                                            {stage.finished && <CheckIcon />}\n                                        </div>\n                                        {!last && (\n                                            <div\n                                                css={theme => ({\n                                                    width: theme.spacing(0.25),\n                                                    height: `calc(100% + ${theme.spacing()})`,\n                                                    background: theme.colors.lightGray,\n                                                    position: \"absolute\",\n                                                    top: theme.spacing(4),\n                                                    left: \"20.5px\", // TODO: dynamic calculation\n                                                    zIndex: 1400,\n                                                })}\n                                            />\n                                        )}\n                                    </Grid>\n                                </Grid>\n                                <Grid item xs={7}>\n                                    <Typography\n                                        component=\"span\"\n                                        css={theme => ({ fontSize: theme.fontSize.larger })}\n                                    >\n                                        {stage.title}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={4}>\n                                    <Typography\n                                        css={theme => ({\n                                            textAlign: \"end\",\n                                            color: theme.colors.secondary,\n                                        })}\n                                    >\n                                        {getFriendlyDate(new Date(stage.deadline))}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={12}>\n                                    {(stage.history || []).map(history => (\n                                        <Grid container spacing={3} key={history.id}>\n                                            <Grid item>\n                                                <div\n                                                    css={theme => ({\n                                                        width: theme.spacing(3),\n                                                        height: theme.spacing(3),\n                                                        visibility: \"hidden\",\n                                                    })}\n                                                />\n                                            </Grid>\n                                            <Grid item xs={1}>\n                                                <Typography\n                                                    css={theme => ({\n                                                        textAlign: \"end\",\n                                                        color: theme.colors.secondary,\n                                                    })}\n                                                >\n                                                    {getFriendlyDate(new Date(history.createdAt))}\n                                                </Typography>\n                                            </Grid>\n                                            <Grid item xs={10}>\n                                                <Typography>{history.description}</Typography>\n                                            </Grid>\n                                        </Grid>\n                                    ))}\n                                </Grid>\n                            </Grid>\n                        </SelectableBlockWrapper>\n                    );\n                })}\n            </Grid>\n        </SectionLayout>\n    );\n};\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Button, InputField } from \"@magnit/components\";\nimport { SendIcon } from \"@magnit/icons\";\nimport * as React from \"react\";\nimport { useCallback, useState } from \"react\";\n\ninterface ISendReportFormProps {\n    onSubmit?(email: string): void;\n}\n\nexport const SendReportForm: React.FC<ISendReportFormProps> = props => {\n    const { onSubmit } = props;\n\n    const [email, setEmail] = useState(\"\");\n\n    const onSubmitCallback = useCallback(\n        (event: React.FormEvent) => {\n            event.preventDefault();\n            if (onSubmit) {\n                onSubmit(email);\n            }\n        },\n        [email, onSubmit],\n    );\n\n    function onEmailChange(event: React.ChangeEvent<HTMLInputElement>) {\n        setEmail(event.target.value);\n    }\n\n    return (\n        <form action=\"\" onSubmit={onSubmitCallback}>\n            <div\n                css={theme => ({\n                    fontSize: theme.fontSize.larger,\n                    marginBottom: theme.spacing(2),\n                })}\n            >\n                Введите email, на который будет отправлен отчет\n            </div>\n            <InputField\n                onChange={onEmailChange}\n                value={email}\n                placeholder=\"Эл. почта\"\n                autoFocus\n                type=\"email\"\n                required\n                fullWidth\n            />\n            <Button\n                type=\"submit\"\n                css={theme => ({\n                    display: \"flex\",\n                    margin: `${theme.spacing(6)} auto 0`,\n                })}\n            >\n                <SendIcon />\n                Отправить\n            </Button>\n        </form>\n    );\n};\n\nSendReportForm.displayName = \"SendReportForm\";\n","/** @jsx jsx */\n\nimport { SelectableBlockWrapper } from \"@magnit/components\";\nimport { getFriendlyDate } from \"@magnit/services\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { jsx } from \"@emotion/core\";\nimport { EReportStatuses, IReportResponse } from \"services/api/tasks\";\n\ninterface IReportHeaderProps {\n    report: IReportResponse;\n    title: string;\n}\n\nconst reportStatusTranslations = {\n    [EReportStatuses.IN_PROGRESS]: \"В работе\",\n    [EReportStatuses.ON_CHECK]: \"На проверке\",\n    [EReportStatuses.DRAFT]: \"Draft\",\n    [EReportStatuses.COMPLETED]: \"Завершен\",\n};\n\nexport const ReportHeader: React.FC<IReportHeaderProps> = props => {\n    const headers = [\n        {\n            title: \"АДМИНИСТРАТОР\",\n            text: \"Терещенко Геннадий Владимирович\",\n        },\n        {\n            title: \"МЕСТОПОЛОЖЕНИЕ\",\n            text: \"Челябинская область, Челябинск, улица Железная, 5\",\n        },\n        {\n            title: \"ФОРМАТ ОБЪЕКТА\",\n            text: \"МК\",\n        },\n        {\n            title: \"ДАТА СОЗДАНИЯ\",\n            text: getFriendlyDate(new Date(props.report.createdAt)),\n        },\n        {\n            title: \"СТАТУС\",\n            text: reportStatusTranslations[props.report.status],\n        },\n    ];\n\n    return (\n        <SelectableBlockWrapper>\n            <Grid css={theme => ({ padding: theme.spacing(4) })}>\n                <Typography css={theme => ({ fontSize: theme.fontSize.normal })}>\n                    {props.title}\n                </Typography>\n\n                <Grid\n                    container\n                    spacing={2}\n                    justify=\"space-between\"\n                    css={theme => ({ marginTop: theme.spacing(2) })}\n                >\n                    {headers.map((field, fieldKey) => (\n                        <Grid item xs={12} md=\"auto\" key={fieldKey}>\n                            <Grid\n                                css={theme => ({\n                                    color: theme.colors.gray,\n                                    fontSize: theme.fontSize.sNormal,\n                                    marginBottom: theme.spacing(1),\n                                })}\n                            >\n                                {field.title}\n                            </Grid>\n                            <Grid css={theme => ({ fontSize: theme.fontSize.normal })}>\n                                {field.text}\n                            </Grid>\n                        </Grid>\n                    ))}\n                </Grid>\n            </Grid>\n        </SelectableBlockWrapper>\n    );\n};\n\nReportHeader.displayName = \"ReportHeader\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { IColumn, Table } from \"@magnit/components\";\nimport { getFriendlyDate } from \"@magnit/services\";\nimport { Typography } from \"@material-ui/core\";\nimport * as React from \"react\";\nimport { IReportStageTemplate } from \"services/api/tasks\";\n\nconst columns: IColumn[] = [\n    { key: \"index\", label: \"№\" },\n    { key: \"title\", label: \"Название шаблона\" },\n    { key: \"createdAt\", label: \"Дата добавления\" },\n    { key: \"version\", label: \"Количество правок\" },\n];\n\ninterface ITaskStageProps {\n    title: string;\n    deadline: string;\n    templates: IReportStageTemplate[];\n}\n\nexport const ReportStage: React.FC<ITaskStageProps> = props => {\n    const transformedTemplateData = props.templates.map((template, templateIndex) => ({\n        selected: false,\n        index: templateIndex + 1,\n        title: template.title,\n        createdAt: getFriendlyDate(new Date(template.createdAt)),\n        version: template.version,\n    }));\n\n    return (\n        <React.Fragment>\n            <Typography\n                component=\"div\"\n                css={theme => ({\n                    fontSize: theme.fontSize.larger,\n                    marginBottom: theme.spacing(2),\n                })}\n            >\n                {props.title} ({getFriendlyDate(new Date(props.deadline))})\n            </Typography>\n            <div\n                css={theme => ({\n                    color: theme.colors.gray,\n                    fontSize: theme.fontSize.normal,\n                    marginBottom: theme.spacing(),\n                })}\n            >\n                <span css={{ fontWeight: 500 }}>Исполнитель:</span> Рукастый Иннокентий Петрович\n            </div>\n            <Table\n                hover={false}\n                pagination={false}\n                columns={columns}\n                data={transformedTemplateData}\n            />\n        </React.Fragment>\n    );\n};\n\nReportStage.displayName = \"ReportStage\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { SelectableBlockWrapper } from \"@magnit/components\";\nimport { CheckIcon } from \"@magnit/icons\";\nimport { Grid } from \"@material-ui/core\";\nimport * as React from \"react\";\n\ninterface IVerticalStepperProps {\n    focused?: boolean;\n    checked?: boolean;\n    index?: number;\n    first?: boolean;\n    last?: boolean;\n\n    onMouseDown?(): void;\n\n    onFocus?(): void;\n}\n\nexport const VerticalStepper: React.FC<IVerticalStepperProps> = props => {\n    const { index, onMouseDown, onFocus, focused, last, checked, first, children } = props;\n    return (\n        <SelectableBlockWrapper\n            css={theme => ({\n                padding: `${theme.spacing(3)} ${theme.spacing(4)}`,\n                \"&:hover\": { background: theme.colors.light },\n                zIndex: focused ? 1300 : \"initial\",\n            })}\n            focused={focused}\n            onMouseDown={onMouseDown}\n            onFocus={onFocus}\n        >\n            <Grid container spacing={2}>\n                <Grid item css={{ position: \"relative\" }}>\n                    <div\n                        css={theme => ({\n                            width: theme.spacing(3),\n                            height: theme.spacing(3),\n                            borderRadius: \"50%\",\n                            border: `2px solid ${theme.colors.primary}`,\n                            zIndex: 2,\n                            color: checked ? theme.colors.white : \"initial\",\n                            background: checked ? theme.colors.primary : theme.colors.white,\n                            position: \"relative\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            justifyContent: \"center\",\n                        })}\n                    >\n                        {checked && <CheckIcon />}\n                        {!checked && index && (\n                            <div\n                                css={theme => ({\n                                    fontSize: theme.fontSize.small,\n                                    color: theme.colors.primary,\n                                })}\n                            >\n                                {index}\n                            </div>\n                        )}\n                    </div>\n                    {!first && (\n                        <div\n                            css={theme => ({\n                                width: theme.spacing(0.25),\n                                height: theme.spacing(3),\n                                background: theme.colors.lightGray,\n                                position: \"absolute\",\n                                top: theme.spacing(-2),\n                                left: 0,\n                                right: 0,\n                                margin: \"auto\",\n                                zIndex: 1,\n                            })}\n                        />\n                    )}\n                    {!last && (\n                        <div\n                            css={theme => ({\n                                width: theme.spacing(0.25),\n                                height: `calc(100% - ${theme.spacing(2)})`,\n                                background: theme.colors.lightGray,\n                                position: \"absolute\",\n                                top: theme.spacing(4),\n                                left: 0,\n                                right: 0,\n                                margin: \"auto\",\n                                zIndex: 1,\n                            })}\n                        />\n                    )}\n                </Grid>\n                <Grid item>{children}</Grid>\n            </Grid>\n        </SelectableBlockWrapper>\n    );\n};\n\nVerticalStepper.displayName = \"VerticalStepper\";\n","/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { Grid, IconButton, Menu, MenuItem, Typography } from \"@material-ui/core\";\nimport { MoreVert as MoreVertIcon } from \"@material-ui/icons\";\nimport { SimpleModal } from \"components/modal\";\nimport { SectionLayout } from \"components/section-layout\";\nimport { SectionTitle } from \"components/section-title\";\nimport { ReportHeader, ReportStage, SendReportForm } from \"components/task-report\";\nimport { VerticalStepper } from \"components/vertical-stepper\";\nimport { AppContext } from \"context\";\nimport * as React from \"react\";\nimport { useCallback, useContext, useEffect, useState } from \"react\";\nimport {\n    downloadReportFile,\n    getTaskReport,\n    IReportResponse,\n    sendReportToEmail,\n} from \"services/api/tasks\";\n\nexport interface ITaskReportProps {\n    taskId: number;\n}\n\nexport const TaskReport: React.FC<ITaskReportProps> = ({ taskId }) => {\n    const context = useContext(AppContext);\n\n    const [focusedBlockId, setFocusedBlockId] = useState(-1);\n    const [menuAnchorElement, setMenuAnchorElement] = useState<null | HTMLElement>(null);\n    const [reportModalOpen, setReportModalOpen] = useState(false);\n    const [report, setReport] = useState<IReportResponse | null>(null);\n\n    useEffect(() => {\n        getTaskReport(context.courier, taskId)\n            .then(response => setReport(response.report))\n            .catch(console.error);\n    }, [context.courier, taskId]);\n\n    function onMenuClick(event: React.MouseEvent<HTMLButtonElement>) {\n        setMenuAnchorElement(event.currentTarget);\n    }\n    function onMenuClose() {\n        setMenuAnchorElement(null);\n    }\n    function onOpenSendReportMenuItem() {\n        onMenuClose();\n        setReportModalOpen(true);\n    }\n\n    const onSubmitSendReportCallback = useCallback(\n        (email: string) => {\n            setReportModalOpen(false);\n            sendReportToEmail(context.courier, taskId, email)\n                .then(() =>\n                    context.setSnackbarState({\n                        open: true,\n                        message: `Отчёт отправлен на ${email}`,\n                    }),\n                )\n                .catch(() => {\n                    context.setSnackbarError(true);\n                    context.setSnackbarState({\n                        open: true,\n                        message: `Не удалось отправить отчёт на ${email}`,\n                    });\n                });\n        },\n        [context, taskId],\n    );\n\n    const onDownloadFileReportCallback = useCallback(() => {\n        onMenuClose();\n        downloadReportFile(context.courier, taskId).catch(() => {\n            context.setSnackbarError(true);\n            context.setSnackbarState({\n                open: true,\n                message: `Не удалось загрузить отчёт`,\n            });\n        });\n    }, [context, taskId]);\n\n    function onPopupClose() {\n        setReportModalOpen(false);\n    }\n\n    return (\n        <SectionLayout>\n            <SimpleModal width={370} open={reportModalOpen} onClose={onPopupClose}>\n                <SendReportForm onSubmit={onSubmitSendReportCallback} />\n            </SimpleModal>\n            <SectionTitle title=\"Отчет по заданию\">\n                <Grid item>\n                    <IconButton onClick={onMenuClick}>\n                        <MoreVertIcon />\n                    </IconButton>\n                </Grid>\n                <Menu\n                    keepMounted\n                    open={Boolean(menuAnchorElement)}\n                    anchorEl={menuAnchorElement}\n                    onClose={onMenuClose}\n                >\n                    <MenuItem onClick={onDownloadFileReportCallback}>Скачать отчет (.xls)</MenuItem>\n                    <MenuItem onClick={onOpenSendReportMenuItem}>Отправить на email</MenuItem>\n                </Menu>\n            </SectionTitle>\n            <Grid\n                css={theme => ({\n                    maxWidth: theme.maxTemplateWidth,\n                    margin: theme.spacing(4),\n                    position: \"relative\",\n                })}\n            >\n                {report && <ReportHeader title={report.title} report={report} />}\n                {report && report.stages.length > 0 && (\n                    <Typography\n                        css={({ spacing, fontSize, colors }) => ({\n                            fontSize: fontSize.large,\n                            padding: ` ${spacing(5)} ${spacing(4)} ${spacing()} `,\n                            backgroundColor: colors.white,\n                        })}\n                    >\n                        Этапы работы\n                    </Typography>\n                )}\n                {report &&\n                    report.stages.map((stage, index) => {\n                        function onMouseDown() {\n                            setFocusedBlockId(stage.id);\n                        }\n\n                        function onFocus() {\n                            setFocusedBlockId(stage.id);\n                        }\n\n                        const friendlyIndex = index + 1;\n\n                        return (\n                            <VerticalStepper\n                                key={stage.id}\n                                index={friendlyIndex}\n                                checked={stage.finished}\n                                focused={focusedBlockId === stage.id}\n                                onMouseDown={onMouseDown}\n                                onFocus={onFocus}\n                                first={!index}\n                                last={friendlyIndex === report.stages.length}\n                            >\n                                <ReportStage\n                                    title={stage.title}\n                                    deadline={stage.deadline}\n                                    templates={stage.templates}\n                                />\n                            </VerticalStepper>\n                        );\n                    })}\n            </Grid>\n        </SectionLayout>\n    );\n};\n","export * from \"./TasksList\";\nexport * from \"./CreateTask\";\nexport * from \"./ViewTask\";\nexport * from \"./TaskHistory\";\nexport * from \"./TaskReport\";\n"],"sourceRoot":""}